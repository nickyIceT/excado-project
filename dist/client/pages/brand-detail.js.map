{"version":3,"sources":["../../../src/client/pages/brand-detail.tsx"],"names":["BrandDetail","props","brandName","brandDetail","topBrands","searchKeyword","updateFilters","profileState","profileReducers","context","brandSlug","asPath","split","length","serviceProxy","Promise","all","findBrandDetail","findTopBrands","namespacesRequired","data","React","Component","mapState","rootState","profileModel","searchModel","filters","keyword","mapDispatch","rootReducer","initStore"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAYMA,W;;;;;;;;;;;;;6BAiBM;AACR,aACE,6BAAC,0BAAD;AACE,QAAA,SAAS,EAAE,KAAKC,KAAL,CAAWC,SADxB;AAEE,QAAA,WAAW,EAAE,KAAKD,KAAL,CAAWE,WAF1B;AAGE,QAAA,SAAS,EAAE,KAAKF,KAAL,CAAWG,SAHxB;AAIE,QAAA,aAAa,EAAE,KAAKH,KAAL,CAAWI,aAJ5B;AAKE,QAAA,aAAa,EAAE,KAAKJ,KAAL,CAAWK,aAL5B;AAME,QAAA,YAAY,EAAE,KAAKL,KAAL,CAAWM,YAN3B;AAOE,QAAA,eAAe,EAAE,KAAKN,KAAL,CAAWO;AAP9B,QADF;AAWD;;;;;;iDA5B4BC,O;;;;;;;AACrBC,gBAAAA,S,GAAYD,OAAO,CAACE,MAAR,CAAeC,KAAf,CAAqB,GAArB,EAA0BH,OAAO,CAACE,MAAR,CAAeC,KAAf,CAAqB,GAArB,EAA0BC,MAA1B,GAAmC,CAA7D,C;AACZC,gBAAAA,Y,GAAe,gC;;uBACkBC,OAAO,CAACC,GAAR,CAAY,CACjDF,YAAY,CAACG,eAAb,CAA6BP,SAA7B,CADiD,EAEjDI,YAAY,CAACI,aAAb,EAFiD,CAAZ,C;;;;;AAAhCf,gBAAAA,W;AAAaC,gBAAAA,S;iDAKb;AACLe,kBAAAA,kBAAkB,EAAE,CAAC,QAAD,EAAW,cAAX,CADf;AAELhB,kBAAAA,WAAW,EAAXA,WAFK;AAGLC,kBAAAA,SAAS,EAAEA,SAAS,CAACgB,IAHhB;AAILlB,kBAAAA,SAAS,EAAE,wBAAUQ,SAAV;AAJN,iB;;;;;;;;;;;;;;;;;;;EATeW,eAAMC,S;;AAgChC,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,SAAD,EAAoB;AACnC,SAAO;AACLjB,IAAAA,YAAY,EAAEiB,SAAS,CAACC,YADnB;AAELpB,IAAAA,aAAa,EAAEmB,SAAS,CAACE,WAAV,CAAsBC,OAAtB,CAA8BC;AAFxC,GAAP;AAID,CALD;;AAOA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,WAAD,EAAsB;AACxC,SAAO;AACLtB,IAAAA,eAAe,EAAEsB,WAAW,CAACL,YADxB;AAELnB,IAAAA,aAAa,EAAEwB,WAAW,CAACJ,WAAZ,CAAwBpB;AAFlC,GAAP;AAID,CALD;;eAMe,wBAAYyB,gBAAZ,EAAuBR,QAAvB,EAAiCM,WAAjC,EAA8C,0BAAe,cAAf,EAA+B7B,WAA/B,CAA9C,C","sourcesContent":["import React from 'react';\nimport { withRematch, initStore, ProfileState, ProfileReducers, ProfileEffects } from '../store';\nimport { withNamespaces } from '../i18n';\nimport { NextContext } from 'next';\nimport BrandDetailScreen from '../modules/machine-news/screens/BrandDetailScreen/BrandDetailScreen';\nimport { Brand } from '../services/service-proxies';\nimport { getServiceProxy } from '../services';\nimport startCase from 'lodash/startCase';\n\ninterface Props {\n  brandName: string;\n  topBrands: Brand[];\n  brandDetail: Brand;\n  searchKeyword: string;\n  profileState: ProfileState;\n  profileReducers: ProfileReducers & ProfileEffects;\n  updateFilters: (payload: {[key: string]: string|number}) => void;\n}\ninterface State {}\nclass BrandDetail extends React.Component<Props, State> {\n  static async getInitialProps(context: NextContext) {\n    const brandSlug = context.asPath.split('/')[context.asPath.split('/').length - 1];\n    const serviceProxy = getServiceProxy();\n    const [brandDetail, topBrands] = await Promise.all([\n      serviceProxy.findBrandDetail(brandSlug),\n      serviceProxy.findTopBrands(),\n    ]);\n\n    return {\n      namespacesRequired: ['common', 'brand-detail'],\n      brandDetail,\n      topBrands: topBrands.data,\n      brandName: startCase(brandSlug),\n    };\n  }\n\n  render () {\n    return (\n      <BrandDetailScreen\n        brandName={this.props.brandName}\n        brandDetail={this.props.brandDetail}\n        topBrands={this.props.topBrands}\n        searchKeyword={this.props.searchKeyword}\n        updateFilters={this.props.updateFilters}\n        profileState={this.props.profileState}\n        profileReducers={this.props.profileReducers}\n      />\n    );\n  }\n}\n\nconst mapState = (rootState: any) => {\n  return {\n    profileState: rootState.profileModel,\n    searchKeyword: rootState.searchModel.filters.keyword,\n  };\n};\n\nconst mapDispatch = (rootReducer: any) => {\n  return {\n    profileReducers: rootReducer.profileModel,\n    updateFilters: rootReducer.searchModel.updateFilters,\n  };\n};\nexport default withRematch(initStore, mapState, mapDispatch)(withNamespaces('brand-detail')(BrandDetail));\n"],"file":"brand-detail.js"}