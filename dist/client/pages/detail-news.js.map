{"version":3,"sources":["../../../src/client/pages/detail-news.tsx"],"names":["DetailNews","props","topBrands","newsData","searchKeyword","profileState","profileReducers","followState","followReducers","updateFilters","handleFiltersChange","context","pageSizeRelatedProduct","req","idToken","jsCookie","get","serviceProxies","cookies","token","Promise","all","findNewsById","query","id","findTopBrands","namespacesRequired","data","React","Component","mapState","rootState","profileModel","followModel","searchModel","filters","keyword","mapDispatch","rootReducer","initStore"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgBMA,U;;;;;;;;;;;;;6BAuBK;AACP,aACE,oBAAC,yBAAD;AACE,QAAA,SAAS,EAAE,KAAKC,KAAL,CAAWC,SADxB;AAEE,QAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWE,QAFvB;AAGE,QAAA,aAAa,EAAE,KAAKF,KAAL,CAAWG,aAH5B;AAIE,QAAA,YAAY,EAAE,KAAKH,KAAL,CAAWI,YAJ3B;AAKE,QAAA,eAAe,EAAE,KAAKJ,KAAL,CAAWK,eAL9B;AAME,QAAA,WAAW,EAAE,KAAKL,KAAL,CAAWM,WAN1B;AAOE,QAAA,cAAc,EAAE,KAAKN,KAAL,CAAWO,cAP7B;AAQE,QAAA,aAAa,EAAE,KAAKP,KAAL,CAAWQ,aAR5B;AASE,QAAA,mBAAmB,EAAE,KAAKR,KAAL,CAAWS;AATlC,QADF;AAaD;;;;;;iDApC4BC,O;;;;;;;AACrBC,gBAAAA,sB,GAAyB,C;;AAE/B,oBAAI,CAACD,OAAO,CAACE,GAAb,EAAkB;AACVC,kBAAAA,OADU,GACAC,QAAQ,CAACC,GAAT,CAAa,OAAb,CADA;AAEhBC,kBAAAA,cAAc,GAAG,+BAAgBH,OAAhB,CAAjB;AACD,iBAHD,MAIK;AACHG,kBAAAA,cAAc,GAAG,+BAAiBN,OAAO,CAACE,GAAT,CAAqBK,OAArB,CAA6BC,KAA7C,CAAjB;AACD;;;uBACmCC,OAAO,CAACC,GAAR,CAAY,CAC9CJ,cAAc,CAACK,YAAf,CAA4BX,OAAO,CAACY,KAAR,CAAcC,EAA1C,CAD8C,EAE9CP,cAAc,CAACQ,aAAf,EAF8C,CAAZ,C;;;;;AAA7BtB,gBAAAA,Q;AAAUD,gBAAAA,S;iDAKV;AACLwB,kBAAAA,kBAAkB,EAAE,CAAC,QAAD,EAAW,aAAX,CADf;AAELvB,kBAAAA,QAAQ,EAARA,QAFK;AAGLD,kBAAAA,SAAS,EAAEA,SAAS,CAACyB;AAHhB,iB;;;;;;;;;;;;;;;;;;;EAhBcC,KAAK,CAACC,S;;AAwC/B,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,SAAD,EAAoB;AACnC,SAAO;AACL1B,IAAAA,YAAY,EAAE0B,SAAS,CAACC,YADnB;AAELzB,IAAAA,WAAW,EAAEwB,SAAS,CAACE,WAFlB;AAGL7B,IAAAA,aAAa,EAAE2B,SAAS,CAACG,WAAV,CAAsBC,OAAtB,CAA8BC;AAHxC,GAAP;AAKD,CAND;;AAQA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,WAAD,EAAsB;AACxC,SAAO;AACLhC,IAAAA,eAAe,EAAEgC,WAAW,CAACN,YADxB;AAELxB,IAAAA,cAAc,EAAE8B,WAAW,CAACL,WAFvB;AAGLvB,IAAAA,mBAAmB,EAAE4B,WAAW,CAACJ,WAAZ,CAAwBxB,mBAHxC;AAILD,IAAAA,aAAa,EAAE6B,WAAW,CAACJ,WAAZ,CAAwBzB;AAJlC,GAAP;AAMD,CAPD;;eAQe,wBAAY8B,gBAAZ,EAAuBT,QAAvB,EAAiCO,WAAjC,EAA8C,0BAAe,aAAf,EAA8BrC,UAA9B,CAA9C,C","sourcesContent":["import * as React from 'react';\nimport DetailNewsScreen from '../modules/machine-news/screens/DetailNewsScreen/DetailNewsScreen';\nimport { getServiceProxy } from '../services';\nimport { Brand, ElasticSearchResult, CommonKeyword, FindNewsDetail } from '../services/service-proxies';\nimport { withRematch, initStore, ProfileState, ProfileEffects, ProfileReducers, FollowEffects, FollowReducers, FollowState, SelectOption, PriceRange } from '../store';\nimport { withNamespaces } from '../i18n';\nimport * as jsCookie from 'js-cookie';\n\ninterface Props {\n  topBrands: Brand[];\n  searchKeyword: string;\n  profileState: ProfileState;\n  profileReducers: ProfileReducers & ProfileEffects;\n  followState: FollowState;\n  followReducers: FollowReducers & FollowEffects;\n  newsData: FindNewsDetail;\n  dataFilteredOwner: ElasticSearchResult;\n  newDataRelatedProducts: ElasticSearchResult;\n  updateFilters: (payload: { [key: string]: string | number }) => void;\n  handleFiltersChange: (payload: { [key: string]: string | number }) => void;\n}\ninterface State { }\nclass DetailNews extends React.Component<Props, State> {\n  static async getInitialProps(context: any) {\n    const pageSizeRelatedProduct = 8;\n    let serviceProxies: any;\n    if (!context.req) {\n      const idToken = jsCookie.get('token');\n      serviceProxies = getServiceProxy(idToken);\n    }\n    else {\n      serviceProxies = getServiceProxy((context.req as any).cookies.token);\n    }\n    const [newsData, topBrands] = await Promise.all([\n      serviceProxies.findNewsById(context.query.id),\n      serviceProxies.findTopBrands(),\n    ]);\n\n    return {\n      namespacesRequired: ['common', 'detail-news'],\n      newsData,\n      topBrands: topBrands.data,\n    };\n  }\n\n  render() {\n    return (\n      <DetailNewsScreen\n        topBrands={this.props.topBrands}\n        newsData={this.props.newsData}\n        searchKeyword={this.props.searchKeyword}\n        profileState={this.props.profileState}\n        profileReducers={this.props.profileReducers}\n        followState={this.props.followState}\n        followReducers={this.props.followReducers}\n        updateFilters={this.props.updateFilters}\n        handleFiltersChange={this.props.handleFiltersChange}\n      />\n    );\n  }\n}\n\nconst mapState = (rootState: any) => {\n  return {\n    profileState: rootState.profileModel,\n    followState: rootState.followModel,\n    searchKeyword: rootState.searchModel.filters.keyword,\n  };\n};\n\nconst mapDispatch = (rootReducer: any) => {\n  return {\n    profileReducers: rootReducer.profileModel,\n    followReducers: rootReducer.followModel,\n    handleFiltersChange: rootReducer.searchModel.handleFiltersChange,\n    updateFilters: rootReducer.searchModel.updateFilters,\n  };\n};\nexport default withRematch(initStore, mapState, mapDispatch)(withNamespaces('detail-news')(DetailNews));\n"],"file":"detail-news.js"}