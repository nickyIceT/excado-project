{"version":3,"sources":["../../../../../src/client/store/models/follow/model.ts"],"names":["followModel","state","data","currentTab","currentType","reducers","getFollowDataSuccess","payload","effects","getFollowData","serviceProxies","findFollow","id","type","newsType","first","sortBy","before","after","console","log","followNews","follow","userId","operation","newsId","success","error","unfollowNews","followUser","authId","unfollowUser","followShop","shopId","unfollowShop"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;;;;;;;;;;;AAGA,IAAMA,WAAqC,GAAG,uBAAY;AACxDC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,EADD;AAELC,IAAAA,UAAU,EAAE,MAFP;AAGLC,IAAAA,WAAW,EAAE;AAHR,GADiD;AAMxDC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,oBAAoB,EAAE,8BAACL,KAAD,EAAqBM,OAArB,EAAmD;AACvE,+BACKN,KADL;AAEEC,QAAAA,IAAI,EAAEK,OAAO,CAACL;AAFhB;AAID;AANO,GAN8C;AAcxDM,EAAAA,OAAO,EAAE;AACDC,IAAAA,aADC;AAAA;AAAA;AAAA,iDACaF,OADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGGG,gBAAAA,cAHH,GAGoB,gCAHpB;AAAA;AAAA,uBAIgBA,cAAc,CAACC,UAAf,CACjBJ,OAAO,CAACK,EADS,EAEjBL,OAAO,CAACM,IAFS,EAGjBN,OAAO,CAACO,QAHS,EAIjBP,OAAO,CAACQ,KAJS,EAKjBR,OAAO,CAACS,MALS,EAMjBT,OAAO,CAACU,MANS,EAOjBV,OAAO,CAACW,KAPS,CAJhB;;AAAA;AAIGhB,gBAAAA,IAJH;AAaH,qBAAKI,oBAAL,CAA0BJ,IAA1B;AAbG;AAAA;;AAAA;AAAA;AAAA;AAeH;AACAiB,gBAAAA,OAAO,CAACC,GAAR;;AAhBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAmBDC,IAAAA,UAnBC;AAAA;AAAA;AAAA,kDAmBWd,OAnBX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBGG,gBAAAA,cArBH,GAqBoB,gCArBpB;AAAA;AAAA,uBAsBGA,cAAc,CAACY,MAAf,CACJf,OAAO,CAACgB,MADJ,EAEJ;AACEC,kBAAAA,SAAS,EAAE,YADb;AAEEjB,kBAAAA,OAAO,EAAE;AACPkB,oBAAAA,MAAM,EAAElB,OAAO,CAACkB;AADT;AAFX,iBAFI,CAtBH;;AAAA;AA6BH,kCAAQC,OAAR,CAAgB,yBAAhB;;AA7BG;AAAA;;AAAA;AAAA;AAAA;;AA+BH,kCAAQC,KAAR,CAAc,kBAAd;;AA/BG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAkCDC,IAAAA,YAlCC;AAAA;AAAA;AAAA,kDAkCarB,OAlCb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoCGG,gBAAAA,cApCH,GAoCoB,gCApCpB;AAAA;AAAA,uBAqCGA,cAAc,CAACY,MAAf,CACJf,OAAO,CAACgB,MADJ,EAEJ;AACEC,kBAAAA,SAAS,EAAE,cADb;AAEEjB,kBAAAA,OAAO,EAAE;AACPkB,oBAAAA,MAAM,EAAElB,OAAO,CAACkB;AADT;AAFX,iBAFI,CArCH;;AAAA;AA4CH,kCAAQC,OAAR,CAAgB,4BAAhB;;AA5CG;AAAA;;AAAA;AAAA;AAAA;;AA8CH,kCAAQC,KAAR,CAAc,kBAAd;;AA9CG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAiDDE,IAAAA,UAjDC;AAAA;AAAA;AAAA,kDAiDWtB,OAjDX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmDGG,gBAAAA,cAnDH,GAmDoB,gCAnDpB;AAAA;AAAA,uBAoDGA,cAAc,CAACY,MAAf,CACJf,OAAO,CAACuB,MADJ,EAEJ;AACEN,kBAAAA,SAAS,EAAE,YADb;AAEEjB,kBAAAA,OAAO,EAAE;AACPgB,oBAAAA,MAAM,EAAEhB,OAAO,CAACgB;AADT;AAFX,iBAFI,CApDH;;AAAA;AA2DH,kCAAQG,OAAR,CAAgB,+BAAhB;;AA3DG;AAAA;;AAAA;AAAA;AAAA;;AA6DH,kCAAQC,KAAR,CAAc,kBAAd;;AA7DG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAgEDI,IAAAA,YAhEC;AAAA;AAAA;AAAA,kDAgEaxB,OAhEb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkEGG,gBAAAA,cAlEH,GAkEoB,gCAlEpB;AAAA;AAAA,uBAmEGA,cAAc,CAACY,MAAf,CACJf,OAAO,CAACuB,MADJ,EAEJ;AACEN,kBAAAA,SAAS,EAAE,cADb;AAEEjB,kBAAAA,OAAO,EAAE;AACPgB,oBAAAA,MAAM,EAAEhB,OAAO,CAACgB;AADT;AAFX,iBAFI,CAnEH;;AAAA;AA0EH,kCAAQG,OAAR,CAAgB,mCAAhB;;AA1EG;AAAA;;AAAA;AAAA;AAAA;;AA4EH,kCAAQC,KAAR,CAAc,kBAAd;;AA5EG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA+EDK,IAAAA,UA/EC;AAAA;AAAA;AAAA,kDA+EWzB,OA/EX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiFGG,gBAAAA,cAjFH,GAiFoB,gCAjFpB;AAAA;AAAA,uBAkFGA,cAAc,CAACY,MAAf,CACJf,OAAO,CAACuB,MADJ,EAEJ;AACEN,kBAAAA,SAAS,EAAE,YADb;AAEEjB,kBAAAA,OAAO,EAAE;AACP0B,oBAAAA,MAAM,EAAE1B,OAAO,CAAC0B;AADT;AAFX,iBAFI,CAlFH;;AAAA;AAyFH,kCAAQP,OAAR,CAAgB,8BAAhB;;AAzFG;AAAA;;AAAA;AAAA;AAAA;;AA2FH,kCAAQC,KAAR,CAAc,kBAAd;;AA3FG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA8FDO,IAAAA,YA9FC;AAAA;AAAA;AAAA,kDA8Fa3B,OA9Fb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgGGG,gBAAAA,cAhGH,GAgGoB,gCAhGpB;AAAA;AAAA,uBAiGGA,cAAc,CAACY,MAAf,CACJf,OAAO,CAACuB,MADJ,EAEJ;AACEN,kBAAAA,SAAS,EAAE,cADb;AAEEjB,kBAAAA,OAAO,EAAE;AACP0B,oBAAAA,MAAM,EAAE1B,OAAO,CAAC0B;AADT;AAFX,iBAFI,CAjGH;;AAAA;AAwGH,kCAAQP,OAAR,CAAgB,iCAAhB;;AAxGG;AAAA;;AAAA;AAAA;AAAA;;AA0GH,kCAAQC,KAAR,CAAc,kBAAd;;AA1GG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAd+C,CAAZ,CAA9C;eA8He3B,W","sourcesContent":["import { createModel, ModelConfig } from '@rematch/core';\nimport { FollowState, GetFollowDataPayload, FollowNewsPayload, FollowUserPayload, FollowShopPayload } from './interface';\nimport { getServiceProxy } from '@client/services';\nimport { message } from 'antd';\n\nconst followModel: ModelConfig<FollowState> = createModel({\n  state: {\n    data: [],\n    currentTab: 'SELL',\n    currentType: 'news',\n  },\n  reducers: {\n    getFollowDataSuccess: (state: FollowState, payload: any): FollowState => {\n      return {\n        ...state,\n        data: payload.data,\n      };\n    },\n  },\n  effects: {\n    async getFollowData(payload: GetFollowDataPayload): Promise<void> {\n      try {\n        const serviceProxies = getServiceProxy();\n        const data = await serviceProxies.findFollow(\n          payload.id,\n          payload.type,\n          payload.newsType,\n          payload.first,\n          payload.sortBy,\n          payload.before,\n          payload.after,\n        );\n        this.getFollowDataSuccess(data);\n      } catch (error) {\n        // tslint:disable-next-line:no-console\n        console.log(error);\n      }\n    },\n    async followNews (payload: FollowNewsPayload): Promise<void> {\n      try {\n        const serviceProxies = getServiceProxy();\n        await serviceProxies.follow(\n          payload.userId,\n          {\n            operation: 'followNews',\n            payload: {\n              newsId: payload.newsId,\n        }});\n        message.success('Theo dõi tin thành công');\n      } catch (error) {\n        message.error('Đã có lỗi xảy ra');\n      }\n    },\n    async unfollowNews (payload: FollowNewsPayload): Promise<void> {\n      try {\n        const serviceProxies = getServiceProxy();\n        await serviceProxies.follow(\n          payload.userId,\n          {\n            operation: 'unfollowNews',\n            payload: {\n              newsId: payload.newsId,\n        }});\n        message.success('Bỏ theo dõi tin thành công');\n      } catch (error) {\n        message.error('Đã có lỗi xảy ra');\n      }\n    },\n    async followUser (payload: FollowUserPayload): Promise<void> {\n      try {\n        const serviceProxies = getServiceProxy();\n        await serviceProxies.follow(\n          payload.authId,\n          {\n            operation: 'followUser',\n            payload: {\n              userId: payload.userId,\n        }});\n        message.success('Theo dõi người bán thành công');\n      } catch (error) {\n        message.error('Đã có lỗi xảy ra');\n      }\n    },\n    async unfollowUser (payload: FollowUserPayload): Promise<void> {\n      try {\n        const serviceProxies = getServiceProxy();\n        await serviceProxies.follow(\n          payload.authId,\n          {\n            operation: 'unfollowUser',\n            payload: {\n              userId: payload.userId,\n        }});\n        message.success(' Bỏ theo dõi người bán thành công');\n      } catch (error) {\n        message.error('Đã có lỗi xảy ra');\n      }\n    },\n    async followShop (payload: FollowShopPayload): Promise<void> {\n      try {\n        const serviceProxies = getServiceProxy();\n        await serviceProxies.follow(\n          payload.authId,\n          {\n            operation: 'followShop',\n            payload: {\n              shopId: payload.shopId,\n        }});\n        message.success('Theo dõi cửa hàng thành công');\n      } catch (error) {\n        message.error('Đã có lỗi xảy ra');\n      }\n    },\n    async unfollowShop (payload: FollowShopPayload): Promise<void> {\n      try {\n        const serviceProxies = getServiceProxy();\n        await serviceProxies.follow(\n          payload.authId,\n          {\n            operation: 'unfollowShop',\n            payload: {\n              shopId: payload.shopId,\n        }});\n        message.success('Bỏ theo dõi cửa hàng thành công');\n      } catch (error) {\n        message.error('Đã có lỗi xảy ra');\n      }\n    },\n  },\n});\n\nexport default followModel;\n"],"file":"model.js"}