{"version":3,"sources":["../../../../../../src/client/modules/machine-news/screens/ShopNewsScreen/ShopNewsScreen.tsx"],"names":["ShopNewsScreen","filters","keyword","undefined","state","priceType","minPrice","maxPrice","weightRange","newsType","owner","shop","props","shopInfo","_id","location","type","brand","model","category","data","newsResult","first","sortBy","before","after","loading","payload","setState","newFilters","Number","serviceProxies","searchElasticsearch","error","message","JSON","parse","response","starStatus","id","profileState","authUser","followReducers","unfollowNews","userId","newsId","map","item","isFollowing","followNews","warning","t","name","config","facebookAppId","description","domain","logoImage","resultSearchNewestPost","Boolean","getNextPage","getPrevPage","weightRanges","categories","brands","handleSearchChange","handleFiltersChange","changeFollowItemStatus","Component"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport NavBarStore from '@client/modules/machine-news/screens/ShopInfoScreen/components/NavBarStore';\nimport ShopNewsDetails from './components/ShopNewsDetails';\nimport { Category, Brand, Shop, News, ElasticSearchResult, WeightRange } from '../../../../services/service-proxies';\nimport { FiltersChangePayload, SearchFilters, ProfileState, FollowEffects, FollowReducers, ProfileEffects, ProfileReducers } from '../../../../store';\nimport { message } from 'antd';\nimport { getServiceProxy } from '@client/services';\nimport { withNamespaces } from '@client/i18n';\nimport { config } from '@client/config';\nimport { getShopUrl } from '@client/core';\nimport Head from 'next/head';\n\ninterface Props {\n  newsResult: ElasticSearchResult;\n  shopInfo: Shop;\n  categories: Category[];\n  brands: Brand[];\n  weightRanges: WeightRange[];\n  resultSearchNewestPost: { data: any[], before?: string, after?: string };\n  profileState: ProfileState;\n  followReducers: FollowEffects & FollowReducers;\n  profileReducers: ProfileEffects & ProfileReducers;\n  t: (key: string) => string;\n}\ninterface State {\n  filters: SearchFilters;\n  data: News[];\n  first: number; // pageSize: default = 10\n  sortBy: string; // default: createdAt|desc\n  before?: string;\n  after?: string;\n  loading: boolean;\n}\nclass ShopNewsScreen extends Component<Props, State> {\n  state: State = {\n    filters: {\n      keyword: undefined,\n      state: undefined,\n      priceType: undefined,\n      minPrice: undefined,\n      maxPrice: undefined,\n      weightRange: undefined,\n      newsType: undefined,\n      owner: undefined,\n      shop: this.props.shopInfo._id,\n      location: undefined,\n      type: undefined,\n      brand: undefined,\n      model: undefined,\n      category: undefined,\n    },\n    data: this.props.newsResult.data as any,\n    first: 12,\n    sortBy: 'elasticsearchCreatedAt|desc', // fieldName|sortOrder\n    before: this.props.newsResult.before,\n    after: this.props.newsResult.after,\n    loading: false,\n  };\n\n  handleSearchChange = (payload: { keyword: string }) => {\n    this.setState({\n      filters: {\n        ...this.state.filters,\n        ...payload,\n      },\n    });\n  }\n\n  handleFiltersChange = async (payload: FiltersChangePayload) => {\n    const newFilters = {\n      keyword: this.state.filters.keyword,\n      state: typeof payload.state === 'string' ? payload.state : this.state.filters.state,\n      priceType: typeof payload.priceType === 'string' ? payload.priceType : this.state.filters.priceType,\n      minPrice: typeof payload.minPrice === 'string' || typeof payload.minPrice === 'number' ? Number(payload.minPrice) > 0 ? Number(payload.minPrice) : undefined : this.state.filters.minPrice,\n      maxPrice: typeof payload.maxPrice === 'string' || typeof payload.maxPrice === 'number' ? Number(payload.maxPrice) > 0 ? Number(payload.maxPrice) : undefined : this.state.filters.maxPrice,\n      weightRange: typeof payload.weightRange === 'string' ? payload.weightRange : this.state.filters.weightRange,\n      newsType: typeof payload.newsType === 'string' ? payload.newsType : this.state.filters.newsType,\n      category: typeof payload.category === 'string' ? payload.category : this.state.filters.category,\n      owner: this.state.filters.owner,\n      shop: this.state.filters.shop,\n      location: typeof payload.location === 'string' ? payload.location : this.state.filters.location,\n      type: typeof payload.type === 'string' ? payload.type : this.state.filters.type,\n      brand: typeof payload.brand === 'string' ? payload.brand : this.state.filters.brand,\n      model: typeof payload.model === 'string' ? payload.model : this.state.filters.model,\n    };\n    this.setState({\n      filters: newFilters,\n      loading: true,\n    });\n\n    try {\n      const serviceProxies = getServiceProxy();\n      const newsResult = await serviceProxies.searchElasticsearch(\n        this.state.filters.keyword,\n        typeof payload.state === 'string' ? payload.state : this.state.filters.state,\n        typeof payload.priceType === 'string' ? payload.priceType : this.state.filters.priceType,\n        typeof payload.minPrice === 'string' || typeof payload.minPrice === 'number' ? Number(payload.minPrice) > 0 ? Number(payload.minPrice) : undefined : this.state.filters.minPrice,\n        typeof payload.maxPrice === 'string' || typeof payload.maxPrice === 'number' ? Number(payload.maxPrice) > 0 ? Number(payload.maxPrice) : undefined : this.state.filters.maxPrice,\n        typeof payload.weightRange === 'string' ? payload.weightRange : this.state.filters.weightRange,\n        undefined,\n        typeof payload.newsType === 'string' ? payload.newsType : this.state.filters.newsType,\n        typeof payload.category === 'string' ? payload.category : this.state.filters.category,\n        this.state.filters.owner,\n        this.state.filters.shop,\n        typeof payload.location === 'string' ? payload.location : this.state.filters.location,\n        typeof payload.type === 'string' ? payload.type : this.state.filters.type,\n        typeof payload.brand === 'string' ? payload.brand : this.state.filters.brand,\n        typeof payload.model === 'string' ? payload.model : this.state.filters.model,\n        this.state.first,\n        this.state.sortBy,\n        undefined,\n        undefined,\n      );\n\n      this.setState({\n        data: newsResult.data as any,\n        before: newsResult.before,\n        after: newsResult.after,\n        loading: false,\n      });\n    } catch (error) {\n      message.error(error.message || JSON.parse(error.response).message);\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  getNextPage = async () => {\n    this.setState({\n      loading: true,\n    });\n\n    try {\n      const serviceProxies = getServiceProxy();\n      const newsResult = await serviceProxies.searchElasticsearch(\n        this.state.filters.keyword,\n        this.state.filters.state,\n        this.state.filters.priceType,\n        this.state.filters.minPrice,\n        this.state.filters.maxPrice,\n        this.state.filters.weightRange,\n        undefined,\n        this.state.filters.newsType,\n        this.state.filters.category,\n        this.state.filters.owner,\n        this.state.filters.shop,\n        this.state.filters.location,\n        this.state.filters.type,\n        this.state.filters.brand,\n        this.state.filters.model,\n        this.state.first,\n        this.state.sortBy,\n        undefined,\n        this.state.after,\n      );\n\n      this.setState({\n        data: newsResult.data as any,\n        before: newsResult.before,\n        after: newsResult.after,\n        loading: false,\n      });\n    } catch (error) {\n      message.error(error.message || JSON.parse(error.response).message);\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  getPrevPage = async () => {\n    this.setState({\n      loading: true,\n    });\n\n    try {\n      const serviceProxies = getServiceProxy();\n      const newsResult = await serviceProxies.searchElasticsearch(\n        this.state.filters.keyword,\n        this.state.filters.state,\n        this.state.filters.priceType,\n        this.state.filters.minPrice,\n        this.state.filters.maxPrice,\n        this.state.filters.weightRange,\n        undefined,\n        this.state.filters.newsType,\n        this.state.filters.category,\n        this.state.filters.owner,\n        this.state.filters.shop,\n        this.state.filters.location,\n        this.state.filters.type,\n        this.state.filters.brand,\n        this.state.filters.model,\n        this.state.first,\n        this.state.sortBy,\n        this.state.before,\n        undefined,\n      );\n\n      this.setState({\n        data: newsResult.data as any,\n        before: newsResult.before,\n        after: newsResult.after,\n        loading: false,\n      });\n    } catch (error) {\n      message.error(error.message || JSON.parse(error.response).message);\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  changeFollowItemStatus = async (starStatus: string, id: string) => {\n    if (this.props.profileState && this.props.profileState.authUser) {\n      if (starStatus === 'filled') {\n        await this.props.followReducers.unfollowNews({\n          userId: (this.props.profileState.authUser as any).id,\n          newsId: id,\n        });\n        await this.setState({\n          data: this.state.data.map((item) => {\n            return item._id === id ? {\n              ...item,\n              isFollowing: false,\n            } : item;\n          }),\n        });\n      } else {\n        await this.props.followReducers.followNews({\n          userId: (this.props.profileState.authUser as any).id,\n          newsId: id,\n        });\n        await this.setState({\n          data: this.state.data.map((item) => {\n            return item._id === id ? {\n              ...item,\n              isFollowing: true,\n            } : item;\n          }),\n        });\n      }\n    } else {\n      message.warning(this.props.t('detail-news:notification-login'));\n    }\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <Head>\n          <title>{`${this.props.shopInfo.name} | timmay.vn`}</title>\n          <meta property='fb:app_id' content={config.facebookAppId} />\n          <meta property='description' content={this.props.shopInfo.description} />\n          <meta property='og:url' content={getShopUrl(this.props.shopInfo.domain)} />\n          <meta property='og:type' content='website' />\n          <meta property='og:title' content={`Cửa hàng ${this.props.shopInfo.name} | timmay.vn`} />\n          <meta property='og:description' content={this.props.shopInfo.description} />\n          <meta property='og:image:url' content={this.props.shopInfo.logoImage ? this.props.shopInfo.logoImage : `/static/images/logo-timmay.png`} />\n          <meta property='og:image:width' content='800' />\n          <meta property='og:image:height' content='600' />\n        </Head>\n        <NavBarStore\n          linkLogoStore={this.props.shopInfo.logoImage}\n          shopName={this.props.shopInfo.name}\n          t={this.props.t}\n        />\n\n        <ShopNewsDetails\n          resultSearchNewestPost={this.props.resultSearchNewestPost}\n          loading={this.state.loading}\n          data={this.state.data}\n          shopName={this.props.shopInfo.name}\n          hasNext={Boolean(this.state.after)}\n          hasPrev={Boolean(this.state.before)}\n          getNextPage={this.getNextPage}\n          getPrevPage={this.getPrevPage}\n          weightRanges={this.props.weightRanges}\n          categories={this.props.categories}\n          brands={this.props.brands}\n          selectedBrand={this.state.filters.brand}\n          selectedCategory={this.state.filters.category}\n          searchKeywords={this.state.filters.keyword}\n          selectedState={this.state.filters.state}\n          selectedNewsType={this.state.filters.newsType}\n          minPrice={this.state.filters.minPrice}\n          maxPrice={this.state.filters.maxPrice}\n          selectedWeightRange={this.state.filters.weightRange}\n          handleSearchChange={this.handleSearchChange}\n          handleFiltersChange={this.handleFiltersChange}\n          profileState={this.props.profileState}\n          changeFollowStatus={this.changeFollowItemStatus}\n          t={this.props.t}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default withNamespaces('detail-news')(ShopNewsScreen);\n"],"file":"ShopNewsScreen.js"}