{"version":3,"sources":["../../../../../../../src/client/modules/machine-news/screens/MyShopScreen/components/ShopNews.tsx"],"names":["ShopNews","filters","keyword","undefined","state","priceType","minPrice","maxPrice","weightRange","newsType","owner","shop","props","shopInfo","_id","location","type","brand","model","category","data","first","sortBy","before","after","loading","payload","setState","newFilters","Number","serviceProxies","searchElasticsearch","newsResult","error","message","JSON","parse","response","starStatus","id","profileState","authUser","followReducers","unfollowNews","userId","newsId","map","item","isFollowing","followNews","profileReducers","openModal","modalName","warning","t","handleFiltersChange","handleSearchChange","brands","categories","weightRanges","Boolean","getNextPage","getPrevPage","changeFollowItemStatus","React","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAGA;;AAEA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqBMA,Q;;;;;;;;;;;;;;;;;;4DACW;AACbC,MAAAA,OAAO,EAAE;AACPC,QAAAA,OAAO,EAAEC,SADF;AAEPC,QAAAA,KAAK,EAAED,SAFA;AAGPE,QAAAA,SAAS,EAAEF,SAHJ;AAIPG,QAAAA,QAAQ,EAAEH,SAJH;AAKPI,QAAAA,QAAQ,EAAEJ,SALH;AAMPK,QAAAA,WAAW,EAAEL,SANN;AAOPM,QAAAA,QAAQ,EAAEN,SAPH;AAQPO,QAAAA,KAAK,EAAEP,SARA;AASPQ,QAAAA,IAAI,EAAE,MAAKC,KAAL,CAAWC,QAAX,CAAoBC,GATnB;AAUPC,QAAAA,QAAQ,EAAEZ,SAVH;AAWPa,QAAAA,IAAI,EAAEb,SAXC;AAYPc,QAAAA,KAAK,EAAEd,SAZA;AAaPe,QAAAA,KAAK,EAAEf,SAbA;AAcPgB,QAAAA,QAAQ,EAAEhB;AAdH,OADI;AAiBbiB,MAAAA,IAAI,EAAE,EAjBO;AAkBbC,MAAAA,KAAK,EAAE,EAlBM;AAmBbC,MAAAA,MAAM,EAAE,6BAnBK;AAmB0B;AACvCC,MAAAA,MAAM,EAAEpB,SApBK;AAqBbqB,MAAAA,KAAK,EAAErB,SArBM;AAsBbsB,MAAAA,OAAO,EAAE;AAtBI,K;;yEA6BM,UAACC,OAAD,EAAkC;AACrD,YAAKC,QAAL,CAAc;AACZ1B,QAAAA,OAAO,oBACF,MAAKG,KAAL,CAAWH,OADT,EAEFyB,OAFE;AADK,OAAd;AAMD,K;;;;;;;gCAEqB,iBAAOA,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACdE,gBAAAA,UADc,GACD;AACjB1B,kBAAAA,OAAO,EAAE,MAAKE,KAAL,CAAWH,OAAX,CAAmBC,OADX;AAEjBE,kBAAAA,KAAK,EAAE,OAAOsB,OAAO,CAACtB,KAAf,KAAyB,QAAzB,GAAoCsB,OAAO,CAACtB,KAA5C,GAAoD,MAAKA,KAAL,CAAWH,OAAX,CAAmBG,KAF7D;AAGjBC,kBAAAA,SAAS,EAAE,OAAOqB,OAAO,CAACrB,SAAf,KAA6B,QAA7B,GAAwCqB,OAAO,CAACrB,SAAhD,GAA4D,MAAKD,KAAL,CAAWH,OAAX,CAAmBI,SAHzE;AAIjBC,kBAAAA,QAAQ,EAAE,OAAOoB,OAAO,CAACpB,QAAf,KAA4B,QAA5B,IAAwC,OAAOoB,OAAO,CAACpB,QAAf,KAA4B,QAApE,GAA+EuB,MAAM,CAACH,OAAO,CAACpB,QAAT,CAAN,GAA2B,CAA3B,GAA+BuB,MAAM,CAACH,OAAO,CAACpB,QAAT,CAArC,GAA0DH,SAAzI,GAAqJ,MAAKC,KAAL,CAAWH,OAAX,CAAmBK,QAJjK;AAKjBC,kBAAAA,QAAQ,EAAE,OAAOmB,OAAO,CAACnB,QAAf,KAA4B,QAA5B,IAAwC,OAAOmB,OAAO,CAACnB,QAAf,KAA4B,QAApE,GAA+EsB,MAAM,CAACH,OAAO,CAACnB,QAAT,CAAN,GAA2B,CAA3B,GAA+BsB,MAAM,CAACH,OAAO,CAACnB,QAAT,CAArC,GAA0DJ,SAAzI,GAAqJ,MAAKC,KAAL,CAAWH,OAAX,CAAmBM,QALjK;AAMjBC,kBAAAA,WAAW,EAAE,OAAOkB,OAAO,CAAClB,WAAf,KAA+B,QAA/B,GAA0CkB,OAAO,CAAClB,WAAlD,GAAgE,MAAKJ,KAAL,CAAWH,OAAX,CAAmBO,WAN/E;AAOjBC,kBAAAA,QAAQ,EAAE,OAAOiB,OAAO,CAACjB,QAAf,KAA4B,QAA5B,GAAuCiB,OAAO,CAACjB,QAA/C,GAA0D,MAAKL,KAAL,CAAWH,OAAX,CAAmBQ,QAPtE;AAQjBU,kBAAAA,QAAQ,EAAE,OAAOO,OAAO,CAACP,QAAf,KAA4B,QAA5B,GAAuCO,OAAO,CAACP,QAA/C,GAA0D,MAAKf,KAAL,CAAWH,OAAX,CAAmBkB,QARtE;AASjBT,kBAAAA,KAAK,EAAE,MAAKN,KAAL,CAAWH,OAAX,CAAmBS,KATT;AAUjBC,kBAAAA,IAAI,EAAE,MAAKP,KAAL,CAAWH,OAAX,CAAmBU,IAVR;AAWjBI,kBAAAA,QAAQ,EAAE,OAAOW,OAAO,CAACX,QAAf,KAA4B,QAA5B,GAAuCW,OAAO,CAACX,QAA/C,GAA0D,MAAKX,KAAL,CAAWH,OAAX,CAAmBc,QAXtE;AAYjBC,kBAAAA,IAAI,EAAE,OAAOU,OAAO,CAACV,IAAf,KAAwB,QAAxB,GAAmCU,OAAO,CAACV,IAA3C,GAAkD,MAAKZ,KAAL,CAAWH,OAAX,CAAmBe,IAZ1D;AAajBC,kBAAAA,KAAK,EAAE,OAAOS,OAAO,CAACT,KAAf,KAAyB,QAAzB,GAAoCS,OAAO,CAACT,KAA5C,GAAoD,MAAKb,KAAL,CAAWH,OAAX,CAAmBgB,KAb7D;AAcjBC,kBAAAA,KAAK,EAAE,OAAOQ,OAAO,CAACR,KAAf,KAAyB,QAAzB,GAAoCQ,OAAO,CAACR,KAA5C,GAAoD,MAAKd,KAAL,CAAWH,OAAX,CAAmBiB;AAd7D,iBADC;;AAkBpB,sBAAKS,QAAL,CAAc;AACZ1B,kBAAAA,OAAO,EAAE2B,UADG;AAEZH,kBAAAA,OAAO,EAAE;AAFG,iBAAd;;AAlBoB;AAwBZK,gBAAAA,cAxBY,GAwBK,gCAxBL;AAAA;AAAA,uBAyBOA,cAAc,CAACC,mBAAf,CACvB,MAAK3B,KAAL,CAAWH,OAAX,CAAmBC,OADI,EAEvB,OAAOwB,OAAO,CAACtB,KAAf,KAAyB,QAAzB,GAAoCsB,OAAO,CAACtB,KAA5C,GAAoD,MAAKA,KAAL,CAAWH,OAAX,CAAmBG,KAFhD,EAGvB,OAAOsB,OAAO,CAACrB,SAAf,KAA6B,QAA7B,GAAwCqB,OAAO,CAACrB,SAAhD,GAA4D,MAAKD,KAAL,CAAWH,OAAX,CAAmBI,SAHxD,EAIvB,OAAOqB,OAAO,CAACpB,QAAf,KAA4B,QAA5B,IAAwC,OAAOoB,OAAO,CAACpB,QAAf,KAA4B,QAApE,GAA+EuB,MAAM,CAACH,OAAO,CAACpB,QAAT,CAAN,GAA2B,CAA3B,GAA+BuB,MAAM,CAACH,OAAO,CAACpB,QAAT,CAArC,GAA0DH,SAAzI,GAAqJ,MAAKC,KAAL,CAAWH,OAAX,CAAmBK,QAJjJ,EAKvB,OAAOoB,OAAO,CAACnB,QAAf,KAA4B,QAA5B,IAAwC,OAAOmB,OAAO,CAACnB,QAAf,KAA4B,QAApE,GAA+EsB,MAAM,CAACH,OAAO,CAACnB,QAAT,CAAN,GAA2B,CAA3B,GAA+BsB,MAAM,CAACH,OAAO,CAACnB,QAAT,CAArC,GAA0DJ,SAAzI,GAAqJ,MAAKC,KAAL,CAAWH,OAAX,CAAmBM,QALjJ,EAMvB,OAAOmB,OAAO,CAAClB,WAAf,KAA+B,QAA/B,GAA0CkB,OAAO,CAAClB,WAAlD,GAAgE,MAAKJ,KAAL,CAAWH,OAAX,CAAmBO,WAN5D,EAOvBL,SAPuB,EAQvB,OAAOuB,OAAO,CAACjB,QAAf,KAA4B,QAA5B,GAAuCiB,OAAO,CAACjB,QAA/C,GAA0D,MAAKL,KAAL,CAAWH,OAAX,CAAmBQ,QARtD,EASvB,OAAOiB,OAAO,CAACP,QAAf,KAA4B,QAA5B,GAAuCO,OAAO,CAACP,QAA/C,GAA0D,MAAKf,KAAL,CAAWH,OAAX,CAAmBkB,QATtD,EAUvB,MAAKf,KAAL,CAAWH,OAAX,CAAmBS,KAVI,EAWvB,MAAKN,KAAL,CAAWH,OAAX,CAAmBU,IAXI,EAYvB,OAAOe,OAAO,CAACX,QAAf,KAA4B,QAA5B,GAAuCW,OAAO,CAACX,QAA/C,GAA0D,MAAKX,KAAL,CAAWH,OAAX,CAAmBc,QAZtD,EAavB,OAAOW,OAAO,CAACV,IAAf,KAAwB,QAAxB,GAAmCU,OAAO,CAACV,IAA3C,GAAkD,MAAKZ,KAAL,CAAWH,OAAX,CAAmBe,IAb9C,EAcvB,OAAOU,OAAO,CAACT,KAAf,KAAyB,QAAzB,GAAoCS,OAAO,CAACT,KAA5C,GAAoD,MAAKb,KAAL,CAAWH,OAAX,CAAmBgB,KAdhD,EAevB,OAAOS,OAAO,CAACR,KAAf,KAAyB,QAAzB,GAAoCQ,OAAO,CAACR,KAA5C,GAAoD,MAAKd,KAAL,CAAWH,OAAX,CAAmBiB,KAfhD,EAgBvB,MAAKd,KAAL,CAAWiB,KAhBY,EAiBvB,MAAKjB,KAAL,CAAWkB,MAjBY,EAkBvBnB,SAlBuB,EAmBvBA,SAnBuB,CAzBP;;AAAA;AAyBZ6B,gBAAAA,UAzBY;;AA+ClB,sBAAKL,QAAL,CAAc;AACZP,kBAAAA,IAAI,EAAEY,UAAU,CAACZ,IADL;AAEZG,kBAAAA,MAAM,EAAES,UAAU,CAACT,MAFP;AAGZC,kBAAAA,KAAK,EAAEQ,UAAU,CAACR,KAHN;AAIZC,kBAAAA,OAAO,EAAE;AAJG,iBAAd;;AA/CkB;AAAA;;AAAA;AAAA;AAAA;;AAsDlB,kCAAQQ,KAAR,CAAc,YAAMC,OAAN,IAAiBC,IAAI,CAACC,KAAL,CAAW,YAAMC,QAAjB,EAA2BH,OAA1D;;AACA,sBAAKP,QAAL,CAAc;AACZF,kBAAAA,OAAO,EAAE;AADG,iBAAd;;AAvDkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;8BA6DR;AAAA;AAAA;AAAA;AAAA;AAAA;AACZ,oBAAKE,QAAL,CAAc;AACZF,gBAAAA,OAAO,EAAE;AADG,eAAd;;AADY;AAMJK,cAAAA,cANI,GAMa,gCANb;AAAA;AAAA,qBAOeA,cAAc,CAACC,mBAAf,CACvB,MAAK3B,KAAL,CAAWH,OAAX,CAAmBC,OADI,EAEvB,MAAKE,KAAL,CAAWH,OAAX,CAAmBG,KAFI,EAGvB,MAAKA,KAAL,CAAWH,OAAX,CAAmBI,SAHI,EAIvB,MAAKD,KAAL,CAAWH,OAAX,CAAmBK,QAJI,EAKvB,MAAKF,KAAL,CAAWH,OAAX,CAAmBM,QALI,EAMvB,MAAKH,KAAL,CAAWH,OAAX,CAAmBO,WANI,EAOvBL,SAPuB,EAQvB,MAAKC,KAAL,CAAWH,OAAX,CAAmBQ,QARI,EASvB,MAAKL,KAAL,CAAWH,OAAX,CAAmBkB,QATI,EAUvB,MAAKf,KAAL,CAAWH,OAAX,CAAmBS,KAVI,EAWvB,MAAKN,KAAL,CAAWH,OAAX,CAAmBU,IAXI,EAYvB,MAAKP,KAAL,CAAWH,OAAX,CAAmBc,QAZI,EAavB,MAAKX,KAAL,CAAWH,OAAX,CAAmBe,IAbI,EAcvB,MAAKZ,KAAL,CAAWH,OAAX,CAAmBgB,KAdI,EAevB,MAAKb,KAAL,CAAWH,OAAX,CAAmBiB,KAfI,EAgBvB,MAAKd,KAAL,CAAWiB,KAhBY,EAiBvB,MAAKjB,KAAL,CAAWkB,MAjBY,EAkBvBnB,SAlBuB,EAmBvB,MAAKC,KAAL,CAAWoB,KAnBY,CAPf;;AAAA;AAOJQ,cAAAA,UAPI;;AA6BV,oBAAKL,QAAL,CAAc;AACZP,gBAAAA,IAAI,EAAEY,UAAU,CAACZ,IADL;AAEZG,gBAAAA,MAAM,EAAES,UAAU,CAACT,MAFP;AAGZC,gBAAAA,KAAK,EAAEQ,UAAU,CAACR,KAHN;AAIZC,gBAAAA,OAAO,EAAE;AAJG,eAAd;;AA7BU;AAAA;;AAAA;AAAA;AAAA;;AAoCV,gCAAQQ,KAAR,CAAc,aAAMC,OAAN,IAAiBC,IAAI,CAACC,KAAL,CAAW,aAAMC,QAAjB,EAA2BH,OAA1D;;AACA,oBAAKP,QAAL,CAAc;AACZF,gBAAAA,OAAO,EAAE;AADG,eAAd;;AArCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;8BA2CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACZ,oBAAKE,QAAL,CAAc;AACZF,gBAAAA,OAAO,EAAE;AADG,eAAd;;AADY;AAMJK,cAAAA,cANI,GAMa,gCANb;AAAA;AAAA,qBAOeA,cAAc,CAACC,mBAAf,CACvB,MAAK3B,KAAL,CAAWH,OAAX,CAAmBC,OADI,EAEvB,MAAKE,KAAL,CAAWH,OAAX,CAAmBG,KAFI,EAGvB,MAAKA,KAAL,CAAWH,OAAX,CAAmBI,SAHI,EAIvB,MAAKD,KAAL,CAAWH,OAAX,CAAmBK,QAJI,EAKvB,MAAKF,KAAL,CAAWH,OAAX,CAAmBM,QALI,EAMvB,MAAKH,KAAL,CAAWH,OAAX,CAAmBO,WANI,EAOvBL,SAPuB,EAQvB,MAAKC,KAAL,CAAWH,OAAX,CAAmBQ,QARI,EASvB,MAAKL,KAAL,CAAWH,OAAX,CAAmBkB,QATI,EAUvB,MAAKf,KAAL,CAAWH,OAAX,CAAmBS,KAVI,EAWvB,MAAKN,KAAL,CAAWH,OAAX,CAAmBU,IAXI,EAYvB,MAAKP,KAAL,CAAWH,OAAX,CAAmBc,QAZI,EAavB,MAAKX,KAAL,CAAWH,OAAX,CAAmBe,IAbI,EAcvB,MAAKZ,KAAL,CAAWH,OAAX,CAAmBgB,KAdI,EAevB,MAAKb,KAAL,CAAWH,OAAX,CAAmBiB,KAfI,EAgBvB,MAAKd,KAAL,CAAWiB,KAhBY,EAiBvB,MAAKjB,KAAL,CAAWkB,MAjBY,EAkBvB,MAAKlB,KAAL,CAAWmB,MAlBY,EAmBvBpB,SAnBuB,CAPf;;AAAA;AAOJ6B,cAAAA,UAPI;;AA6BV,oBAAKL,QAAL,CAAc;AACZP,gBAAAA,IAAI,EAAEY,UAAU,CAACZ,IADL;AAEZG,gBAAAA,MAAM,EAAES,UAAU,CAACT,MAFP;AAGZC,gBAAAA,KAAK,EAAEQ,UAAU,CAACR,KAHN;AAIZC,gBAAAA,OAAO,EAAE;AAJG,eAAd;;AA7BU;AAAA;;AAAA;AAAA;AAAA;;AAoCV,gCAAQQ,KAAR,CAAc,aAAMC,OAAN,IAAiBC,IAAI,CAACC,KAAL,CAAW,aAAMC,QAAjB,EAA2BH,OAA1D;;AACA,oBAAKP,QAAL,CAAc;AACZF,gBAAAA,OAAO,EAAE;AADG,eAAd;;AArCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;gCA2CW,kBAAOa,UAAP,EAA2BC,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA,sBACnB,MAAK3B,KAAL,CAAW4B,YAAX,IAA2B,MAAK5B,KAAL,CAAW4B,YAAX,CAAwBC,QADhC;AAAA;AAAA;AAAA;;AAAA,sBAEjBH,UAAU,KAAK,QAFE;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGb,MAAK1B,KAAL,CAAW8B,cAAX,CAA0BC,YAA1B,CAAuC;AAC3CC,kBAAAA,MAAM,EAAG,MAAKhC,KAAL,CAAW4B,YAAX,CAAwBC,QAAzB,CAA0CF,EADP;AAE3CM,kBAAAA,MAAM,EAAEN;AAFmC,iBAAvC,CAHa;;AAAA;AAAA;AAAA,uBAOb,MAAKZ,QAAL,CAAc;AAClBP,kBAAAA,IAAI,EAAE,MAAKhB,KAAL,CAAWgB,IAAX,CAAgB0B,GAAhB,CAAoB,UAACC,IAAD,EAAU;AAClC,2BAAOA,IAAI,CAACjC,GAAL,KAAayB,EAAb,qBACFQ,IADE;AAELC,sBAAAA,WAAW,EAAE;AAFR,yBAGHD,IAHJ;AAID,mBALK;AADY,iBAAd,CAPa;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAgBb,MAAKnC,KAAL,CAAW8B,cAAX,CAA0BO,UAA1B,CAAqC;AACzCL,kBAAAA,MAAM,EAAG,MAAKhC,KAAL,CAAW4B,YAAX,CAAwBC,QAAzB,CAA0CF,EADT;AAEzCM,kBAAAA,MAAM,EAAEN;AAFiC,iBAArC,CAhBa;;AAAA;AAAA;AAAA,uBAoBb,MAAKZ,QAAL,CAAc;AAClBP,kBAAAA,IAAI,EAAE,MAAKhB,KAAL,CAAWgB,IAAX,CAAgB0B,GAAhB,CAAoB,UAACC,IAAD,EAAU;AAClC,2BAAOA,IAAI,CAACjC,GAAL,KAAayB,EAAb,qBACFQ,IADE;AAELC,sBAAAA,WAAW,EAAE;AAFR,yBAGHD,IAHJ;AAID,mBALK;AADY,iBAAd,CApBa;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBA8Bf,MAAKnC,KAAL,CAAWsC,eAAX,CAA2BC,SAA3B,CAAqC;AAAEC,kBAAAA,SAAS,EAAE;AAAb,iBAArC,CA9Be;;AAAA;AA+BrB,kCAAQC,OAAR,CAAgB,MAAKzC,KAAL,CAAW0C,CAAX,CAAa,gCAAb,CAAhB;;AA/BqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;wCAhKL;AAClB,WAAKC,mBAAL,CAAyB,EAAzB;AACD;;;6BAiMQ;AACP,aACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,MAAM,EAAE;AAAtC,SACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,EAAE,EAAE;AAApC,SACE,6BAAC,kBAAD;AACE,QAAA,cAAc,EAAE,KAAKnD,KAAL,CAAWH,OAAX,CAAmBC,OADrC;AAEE,QAAA,kBAAkB,EAAE,KAAKsD,kBAF3B;AAGE,QAAA,mBAAmB,EAAE,KAAKD,mBAH5B;AAIE,QAAA,CAAC,EAAE,KAAK3C,KAAL,CAAW0C;AAJhB,QADF,EAQE,6BAAC,sBAAD;AACE,QAAA,MAAM,EAAE,KAAK1C,KAAL,CAAW6C,MADrB;AAEE,QAAA,UAAU,EAAE,KAAK7C,KAAL,CAAW8C,UAFzB;AAGE,QAAA,YAAY,EAAE,KAAK9C,KAAL,CAAW+C,YAH3B;AAIE,QAAA,gBAAgB,EAAE,KAAKvD,KAAL,CAAWH,OAAX,CAAmBQ,QAJvC;AAKE,QAAA,aAAa,EAAE,KAAKL,KAAL,CAAWH,OAAX,CAAmBgB,KALpC;AAME,QAAA,gBAAgB,EAAE,KAAKb,KAAL,CAAWH,OAAX,CAAmBkB,QANvC;AAOE,QAAA,aAAa,EAAE,KAAKf,KAAL,CAAWH,OAAX,CAAmBG,KAPpC;AAQE,QAAA,aAAa,EAAEyB,MAAM,CAAC,KAAKzB,KAAL,CAAWH,OAAX,CAAmBK,QAApB,CAAN,GAAsC,CAAtC,aAA6C,KAAKF,KAAL,CAAWH,OAAX,CAAmBK,QAAhE,cAA4E,KAAKF,KAAL,CAAWH,OAAX,CAAmBM,QAA/F,IAA4GJ,SAR7H;AASE,QAAA,mBAAmB,EAAE,KAAKC,KAAL,CAAWH,OAAX,CAAmBO,WAT1C;AAUE,QAAA,mBAAmB,EAAE,KAAK+C;AAV5B,QARF,EAqBE;AAAM,QAAA,QAAQ,EAAE,KAAKnD,KAAL,CAAWqB;AAA3B,SACE,6BAAC,oBAAD;AACE,QAAA,IAAI,EAAE,KAAKrB,KAAL,CAAWgB,IADnB;AAEE,QAAA,OAAO,EAAEwC,OAAO,CAAC,KAAKxD,KAAL,CAAWoB,KAAZ,CAFlB;AAGE,QAAA,OAAO,EAAEoC,OAAO,CAAC,KAAKxD,KAAL,CAAWmB,MAAZ,CAHlB;AAIE,QAAA,WAAW,EAAE,KAAKsC,WAJpB;AAKE,QAAA,WAAW,EAAE,KAAKC,WALpB;AAME,QAAA,YAAY,EAAE,KAAKlD,KAAL,CAAW4B,YAN3B;AAOE,QAAA,kBAAkB,EAAE,KAAKuB,sBAP3B;AAQE,QAAA,CAAC,EAAE,KAAKnD,KAAL,CAAW0C;AARhB,QADF,CArBF,CADF,CADF;AAsCD;;;;EApQoBU,eAAMC,S;;eAuQd,0BAAe,aAAf,EAA8BjE,QAA9B,C","sourcesContent":["import React from 'react';\nimport './ShopNews.less';\nimport { SearchFilters, FiltersChangePayload, ProfileState, ProfileReducers, ProfileEffects, FollowReducers, FollowEffects } from '@client/store';\nimport { News, Shop, Category, Brand, WeightRange } from '@client/services/service-proxies';\nimport { getServiceProxy } from '@client/services';\nimport { message, Spin, Col, Row } from 'antd';\nimport ListMachine from '../../ShopNewsScreen/components/ListMachine';\nimport { ListSelect } from '../../SearchDetailsScreen/components/ListSelect';\nimport SearchBar from '../../ShopNewsScreen/components/SearchBar';\nimport { withNamespaces } from '@client/i18n';\n\ninterface Props {\n  shopInfo: Shop;\n  categories: Category[];\n  brands: Brand[];\n  weightRanges: WeightRange[];\n  profileState: ProfileState;\n  profileReducers: ProfileReducers & ProfileEffects;\n  followReducers: FollowReducers & FollowEffects;\n  t: (key: string) => string;\n}\ninterface State {\n  filters: SearchFilters;\n  data: News[];\n  first: number; // pageSize: default = 10\n  sortBy: string; // default: createdAt|desc\n  before?: string;\n  after?: string;\n  loading: boolean;\n}\nclass ShopNews extends React.Component<Props, State> {\n  state: State = {\n    filters: {\n      keyword: undefined,\n      state: undefined,\n      priceType: undefined,\n      minPrice: undefined,\n      maxPrice: undefined,\n      weightRange: undefined,\n      newsType: undefined,\n      owner: undefined,\n      shop: this.props.shopInfo._id,\n      location: undefined,\n      type: undefined,\n      brand: undefined,\n      model: undefined,\n      category: undefined,\n    },\n    data: [],\n    first: 12,\n    sortBy: 'elasticsearchCreatedAt|desc', // fieldName|sortOrder\n    before: undefined,\n    after: undefined,\n    loading: false,\n  };\n\n  componentDidMount() {\n    this.handleFiltersChange({});\n  }\n\n  handleSearchChange = (payload: { keyword: string }) => {\n    this.setState({\n      filters: {\n        ...this.state.filters,\n        ...payload,\n      },\n    });\n  }\n\n  handleFiltersChange = async (payload: FiltersChangePayload) => {\n    const newFilters = {\n      keyword: this.state.filters.keyword,\n      state: typeof payload.state === 'string' ? payload.state : this.state.filters.state,\n      priceType: typeof payload.priceType === 'string' ? payload.priceType : this.state.filters.priceType,\n      minPrice: typeof payload.minPrice === 'string' || typeof payload.minPrice === 'number' ? Number(payload.minPrice) > 0 ? Number(payload.minPrice) : undefined : this.state.filters.minPrice,\n      maxPrice: typeof payload.maxPrice === 'string' || typeof payload.maxPrice === 'number' ? Number(payload.maxPrice) > 0 ? Number(payload.maxPrice) : undefined : this.state.filters.maxPrice,\n      weightRange: typeof payload.weightRange === 'string' ? payload.weightRange : this.state.filters.weightRange,\n      newsType: typeof payload.newsType === 'string' ? payload.newsType : this.state.filters.newsType,\n      category: typeof payload.category === 'string' ? payload.category : this.state.filters.category,\n      owner: this.state.filters.owner,\n      shop: this.state.filters.shop,\n      location: typeof payload.location === 'string' ? payload.location : this.state.filters.location,\n      type: typeof payload.type === 'string' ? payload.type : this.state.filters.type,\n      brand: typeof payload.brand === 'string' ? payload.brand : this.state.filters.brand,\n      model: typeof payload.model === 'string' ? payload.model : this.state.filters.model,\n    };\n\n    this.setState({\n      filters: newFilters,\n      loading: true,\n    });\n\n    try {\n      const serviceProxies = getServiceProxy();\n      const newsResult = await serviceProxies.searchElasticsearch(\n        this.state.filters.keyword,\n        typeof payload.state === 'string' ? payload.state : this.state.filters.state,\n        typeof payload.priceType === 'string' ? payload.priceType : this.state.filters.priceType,\n        typeof payload.minPrice === 'string' || typeof payload.minPrice === 'number' ? Number(payload.minPrice) > 0 ? Number(payload.minPrice) : undefined : this.state.filters.minPrice,\n        typeof payload.maxPrice === 'string' || typeof payload.maxPrice === 'number' ? Number(payload.maxPrice) > 0 ? Number(payload.maxPrice) : undefined : this.state.filters.maxPrice,\n        typeof payload.weightRange === 'string' ? payload.weightRange : this.state.filters.weightRange,\n        undefined,\n        typeof payload.newsType === 'string' ? payload.newsType : this.state.filters.newsType,\n        typeof payload.category === 'string' ? payload.category : this.state.filters.category,\n        this.state.filters.owner,\n        this.state.filters.shop,\n        typeof payload.location === 'string' ? payload.location : this.state.filters.location,\n        typeof payload.type === 'string' ? payload.type : this.state.filters.type,\n        typeof payload.brand === 'string' ? payload.brand : this.state.filters.brand,\n        typeof payload.model === 'string' ? payload.model : this.state.filters.model,\n        this.state.first,\n        this.state.sortBy,\n        undefined,\n        undefined,\n      );\n\n      this.setState({\n        data: newsResult.data as any,\n        before: newsResult.before,\n        after: newsResult.after,\n        loading: false,\n      });\n    } catch (error) {\n      message.error(error.message || JSON.parse(error.response).message);\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  getNextPage = async () => {\n    this.setState({\n      loading: true,\n    });\n\n    try {\n      const serviceProxies = getServiceProxy();\n      const newsResult = await serviceProxies.searchElasticsearch(\n        this.state.filters.keyword,\n        this.state.filters.state,\n        this.state.filters.priceType,\n        this.state.filters.minPrice,\n        this.state.filters.maxPrice,\n        this.state.filters.weightRange,\n        undefined,\n        this.state.filters.newsType,\n        this.state.filters.category,\n        this.state.filters.owner,\n        this.state.filters.shop,\n        this.state.filters.location,\n        this.state.filters.type,\n        this.state.filters.brand,\n        this.state.filters.model,\n        this.state.first,\n        this.state.sortBy,\n        undefined,\n        this.state.after,\n      );\n\n      this.setState({\n        data: newsResult.data as any,\n        before: newsResult.before,\n        after: newsResult.after,\n        loading: false,\n      });\n    } catch (error) {\n      message.error(error.message || JSON.parse(error.response).message);\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  getPrevPage = async () => {\n    this.setState({\n      loading: true,\n    });\n\n    try {\n      const serviceProxies = getServiceProxy();\n      const newsResult = await serviceProxies.searchElasticsearch(\n        this.state.filters.keyword,\n        this.state.filters.state,\n        this.state.filters.priceType,\n        this.state.filters.minPrice,\n        this.state.filters.maxPrice,\n        this.state.filters.weightRange,\n        undefined,\n        this.state.filters.newsType,\n        this.state.filters.category,\n        this.state.filters.owner,\n        this.state.filters.shop,\n        this.state.filters.location,\n        this.state.filters.type,\n        this.state.filters.brand,\n        this.state.filters.model,\n        this.state.first,\n        this.state.sortBy,\n        this.state.before,\n        undefined,\n      );\n\n      this.setState({\n        data: newsResult.data as any,\n        before: newsResult.before,\n        after: newsResult.after,\n        loading: false,\n      });\n    } catch (error) {\n      message.error(error.message || JSON.parse(error.response).message);\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  changeFollowItemStatus = async (starStatus: string, id: string) => {\n    if (this.props.profileState && this.props.profileState.authUser) {\n      if (starStatus === 'filled') {\n        await this.props.followReducers.unfollowNews({\n          userId: (this.props.profileState.authUser as any).id,\n          newsId: id,\n        });\n        await this.setState({\n          data: this.state.data.map((item) => {\n            return item._id === id ? {\n              ...item,\n              isFollowing: false,\n            } : item;\n          }),\n        });\n      } else {\n        await this.props.followReducers.followNews({\n          userId: (this.props.profileState.authUser as any).id,\n          newsId: id,\n        });\n        await this.setState({\n          data: this.state.data.map((item) => {\n            return item._id === id ? {\n              ...item,\n              isFollowing: true,\n            } : item;\n          }),\n        });\n      }\n    } else {\n      await this.props.profileReducers.openModal({ modalName: 'login' });\n      message.warning(this.props.t('detail-news:notification-login'));\n    }\n  }\n\n  render() {\n    return (\n      <Row className='outline-body' gutter={16}>\n        <Col className='filter-my-shop' xs={24}>\n          <SearchBar\n            searchKeywords={this.state.filters.keyword}\n            handleSearchChange={this.handleSearchChange}\n            handleFiltersChange={this.handleFiltersChange}\n            t={this.props.t}\n          />\n\n          <ListSelect\n            brands={this.props.brands}\n            categories={this.props.categories}\n            weightRanges={this.props.weightRanges}\n            selectedNewsType={this.state.filters.newsType}\n            selectedBrand={this.state.filters.brand}\n            selectedCategory={this.state.filters.category}\n            selectedState={this.state.filters.state}\n            selectedPrice={Number(this.state.filters.minPrice) > 0 ? `${this.state.filters.minPrice}-${this.state.filters.maxPrice}` : undefined}\n            selectedWeightRange={this.state.filters.weightRange}\n            handleFiltersChange={this.handleFiltersChange}\n          />\n\n          <Spin spinning={this.state.loading}>\n            <ListMachine\n              data={this.state.data}\n              hasNext={Boolean(this.state.after)}\n              hasPrev={Boolean(this.state.before)}\n              getNextPage={this.getNextPage}\n              getPrevPage={this.getPrevPage}\n              profileState={this.props.profileState}\n              changeFollowStatus={this.changeFollowItemStatus}\n              t={this.props.t}\n            />\n          </Spin>\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default withNamespaces('news-detail')(ShopNews);\n"],"file":"ShopNews.js"}