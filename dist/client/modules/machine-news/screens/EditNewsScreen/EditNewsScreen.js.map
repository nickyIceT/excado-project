{"version":3,"sources":["../../../../../../src/client/modules/machine-news/screens/EditNewsScreen/EditNewsScreen.tsx"],"names":["EditNewsScreen","props","step","fileList","data","imageUrls","map","item","index","uid","name","status","url","loading","models","brands","_id","newsType","categoryId","brand","undefined","model","weight","year","location","state","usedHours","serialNo","price","priceType","title","description","selectedWeightRange","weightRange","min","selectedRentalPeriod","rentalPeriod","payload","setState","value","serviceProxy","findBrands","error","message","allowed","search","findModels","filter","val","indexOf","option","isSeller","length","weightRanges","rentalPeriods","owner","profileState","authUser","id","firebase","auth","currentUser","getIdToken","idToken","updateNews","operation","success","Router","push","response","nextStep","changeData","t","backStep","categories","addNewModel","getBrands","getModels","provinces","changeFileList","submit","toStep","config","facebookAppId","commonKeywords","updateFilters","searchKeyword","profileReducers","calculateScreen","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ProfileState, ProfileReducers, ProfileEffects } from '@client/store';\nimport { Header } from '@client/components';\nimport { CommonKeyword, Province, Brand, Category, News, Model, WeightRange, RentalPeriod } from '@client/services/service-proxies';\nimport './EditNewsScreen.less';\nimport { message } from 'antd';\nimport { Router } from '@client/routes';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { getServiceProxy } from '@client/services';\nimport debounce from 'lodash/debounce';\nimport CreatePostStep1 from '../CreateNewsScreen/components/CreatePostStep1';\nimport CreatePostStep2 from '../CreateNewsScreen/components/CreatePostStep2';\nimport CreatePostStep3 from '../CreateNewsScreen/components/CreatePostStep3';\nimport CreatePostStep4 from '../CreateNewsScreen/components/CreatePostStep4';\nimport CreatePostStep5 from '../CreateNewsScreen/components/CreatePostStep5';\nimport { withNamespaces } from '@client/i18n';\nimport Head from 'next/head';\nimport { config } from '@client/config';\n\ninterface Props {\n  commonKeywords: CommonKeyword[];\n  searchKeyword: string;\n  profileState: ProfileState;\n  profileReducers: ProfileReducers & ProfileEffects;\n  provinces: Province[];\n  brands: Brand[];\n  categories: Category[];\n  weightRanges: WeightRange[];\n  rentalPeriods: RentalPeriod[];\n  data: News;\n  updateFilters: (payload: {[key: string]: string|number}) => void;\n  t: (key: string) => string;\n}\ninterface State {\n  step: number;\n  loading: boolean;\n  fileList: any;\n  models: Model[];\n  brands: Brand[];\n\n  _id?: string;\n  newsType?: string;\n  categoryId?: string;\n  brand?: string;\n  model?: string;\n  weight?: number;\n  year?: number;\n  location?: string;\n  state?: string;\n  usedHours?: number;\n  serialNo?: string;\n  price?: number;\n  priceType?: string;\n  title?: string;\n  description?: string;\n  shop?: string;\n  selectedWeightRange?: number;\n  selectedRentalPeriod?: number;\n  imageUrls?: any;\n}\nclass EditNewsScreen extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.getBrands = debounce(this.getBrands, 500);\n    this.getModels = debounce(this.getModels, 500);\n  }\n\n  state: State = {\n    step: 5,\n    fileList: this.props.data ? this.props.data.imageUrls.map((item: any, index: number) => ({\n      uid: item,\n      name: `${index}.jpg`,\n      status: 'done',\n      url: `${item}-large.jpg`,\n    })) : [],\n    loading: false,\n    models: [],\n    brands: this.props.brands,\n\n    _id: this.props.data._id,\n    newsType: this.props.data.newsType,\n    categoryId: this.props.data.categoryId._id,\n    brand: this.props.data.brand ? this.props.data.brand._id : undefined,\n    model: this.props.data.model ? this.props.data.model._id : undefined,\n    weight: this.props.data.weight,\n    year: this.props.data.year,\n    location: this.props.data.location ? this.props.data.location._id : undefined,\n    state: this.props.data.state,\n    usedHours: this.props.data.usedHours,\n    serialNo: this.props.data.serialNo,\n    imageUrls: this.props.data.imageUrls.map((item: any) => ({\n      uid: item,\n      url: item,\n    })),\n    price: this.props.data.price,\n    priceType: this.props.data.priceType,\n    title: this.props.data.title,\n    description: this.props.data.description,\n    selectedWeightRange: this.props.data.weightRange ? this.props.data.weightRange.min : undefined,\n    selectedRentalPeriod: this.props.data.rentalPeriod ? this.props.data.rentalPeriod.min : undefined,\n  };\n\n  addNewModel = (payload: Model) => {\n    this.setState({\n      models: [...this.state.models, payload],\n    });\n  }\n\n  getBrands = async (value: string) => {\n    this.setState({\n      loading: true,\n    });\n\n    try {\n      const serviceProxy = getServiceProxy();\n      const brands = await serviceProxy.findBrands(\n        value,\n        20,\n        'slug|asc',\n        undefined,\n        undefined,\n      );\n\n      this.setState({\n        loading: false,\n        brands: brands.data,\n      });\n    } catch (error) {\n      message.error(error.message);\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  getModels = async (payload: { [key: string]: any }) => {\n    let allowed = false;\n    if (payload.search) {\n      allowed = true;\n    } else if ((payload.categoryId || this.state.categoryId) && (payload.brand || this.state.brand)) {\n      allowed = true;\n    }\n\n    if (allowed) {\n      this.setState({\n        loading: true,\n      });\n\n      try {\n        const serviceProxy = getServiceProxy();\n        const models = await serviceProxy.findModels(\n          payload.search,\n          payload.brand || this.state.brand,\n          payload.categoryId || this.state.categoryId,\n          20,\n          'slug|asc',\n          undefined,\n          undefined,\n        );\n\n        this.setState({\n          loading: false,\n          models: models.data,\n        });\n      } catch (error) {\n        message.error(error.message);\n        this.setState({\n          loading: false,\n        });\n      }\n    }\n  }\n\n  changeFileList = (payload: any) => {\n    this.setState({\n      fileList: payload.fileList,\n      imageUrls: this.state.imageUrls.filter((val: any) => payload.fileList.map((item: any) => item.uid).indexOf(val.uid) >= 0),\n    });\n  }\n\n  toStep = (step: number) => {\n    this.setState({\n      step,\n    });\n  }\n\n  changeData = (option: any) => {\n    this.setState(option);\n  }\n\n  fetchModelsSuccess = (payload: any) => {\n    this.setState({\n      models: payload,\n    });\n  }\n\n  submit = async () => {\n    this.setState({\n      loading: true,\n    });\n\n    try {\n      const isSeller = ['SELL', 'LEASE'].indexOf(this.state.newsType!) > -1;\n      if (!isSeller || this.state.imageUrls.length) {\n        const data = {\n          ...this.state,\n          weightRange: isSeller ? undefined : this.props.weightRanges.filter((item) => item.min === this.state.selectedWeightRange)[0]._id,\n          rentalPeriod: isSeller ? undefined : this.props.rentalPeriods.filter((item) => item.min === this.state.selectedRentalPeriod)[0]._id,\n          fileList: [],\n          owner: this.props.profileState ? this.props.profileState.authUser ? this.props.profileState.authUser.id : '' : '',\n          status: 'PUBLIC',\n        };\n        const idToken = await firebase.auth().currentUser!.getIdToken();\n        const serviceProxy = await getServiceProxy(idToken);\n        await serviceProxy.updateNews(this.state._id!, {\n          operation: 'updatePending',\n          payload: data,\n        });\n        message.success('Sửa tin thành công', 3);\n        Router.push('/quan-li-tin-dang');\n      } else {\n        message.error('Bạn cần đăng ít nhất một ảnh mô tả sản phẩm', 5);\n      }\n      this.setState({\n        loading: false,\n      });\n    } catch (err) {\n      message.error(err.response || 'Đã có lỗi xảy ra. Vui lòng thử lại.');\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  calculateScreen = () => {\n    switch (this.state.step) {\n      case 1:\n        return <CreatePostStep1\n          nextStep={this.nextStep}\n          newsType={this.state.newsType}\n          changeData={this.changeData}\n          updateUserPhoneNo={() => null}\n          t={this.props.t}\n        ></CreatePostStep1>;\n      case 2:\n        return <CreatePostStep2\n          newsType={this.state.newsType}\n          selectedRentalPeriod={this.state.selectedRentalPeriod}\n          selectedWeightRange={this.state.selectedWeightRange}\n          weightRanges={this.props.weightRanges}\n          rentalPeriods={this.props.rentalPeriods}\n          nextStep={this.nextStep}\n          backStep={this.backStep}\n          changeData={this.changeData}\n          brands={this.props.data.brand ? [...this.state.brands, this.props.data.brand] : this.state.brands}\n          models={this.props.data.model ? [...this.state.models, this.props.data.model] : this.state.models}\n          categories={this.props.categories}\n          categoryId={this.state.categoryId}\n          brand={this.state.brand}\n          model={this.state.model}\n          weight={this.state.weight}\n          year={this.state.year}\n          addNewModel={this.addNewModel}\n          loading={this.state.loading}\n          getBrands={this.getBrands}\n          getModels={this.getModels}\n          t={this.props.t}\n        ></CreatePostStep2>;\n      case 3:\n        return <CreatePostStep3\n          newsType={this.state.newsType}\n          nextStep={this.nextStep}\n          backStep={this.backStep}\n          changeData={this.changeData}\n          provinces={this.props.provinces}\n          location={this.state.location}\n          state={this.state.state}\n          usedHours={this.state.usedHours}\n          serialNo={this.state.serialNo}\n          price={this.state.price}\n          priceType={this.state.priceType}\n          t={this.props.t}\n        ></CreatePostStep3>;\n      case 4:\n        return <CreatePostStep4\n          newsType={this.state.newsType}\n          nextStep={this.nextStep}\n          backStep={this.backStep}\n          fileList={this.state.fileList}\n          imageUrls={this.state.imageUrls}\n          title={this.state.title}\n          description={this.state.description}\n          changeData={this.changeData}\n          changeFileList={this.changeFileList}\n          submit={this.submit}\n          t={this.props.t}\n        ></CreatePostStep4>;\n      case 5:\n        return <CreatePostStep5\n          isCreate={false}\n          selectedRentalPeriod={this.state.selectedRentalPeriod}\n          selectedWeightRange={this.state.selectedWeightRange}\n          weightRanges={this.props.weightRanges}\n          rentalPeriods={this.props.rentalPeriods}\n          backStep={this.backStep}\n          brands={this.props.data.brand ? [...this.state.brands, this.props.data.brand] : this.state.brands}\n          models={this.props.data.model ? [...this.state.models, this.props.data.model] : this.state.models}\n          categories={this.props.categories}\n          provinces={this.props.provinces}\n          fileList={this.state.fileList}\n          newsType={this.state.newsType}\n          imageUrls={this.state.imageUrls}\n          categoryId={this.state.categoryId}\n          brand={this.state.brand}\n          model={this.state.model}\n          weight={this.state.weight}\n          year={this.state.year}\n          location={this.state.location}\n          state={this.state.state}\n          usedHours={this.state.usedHours}\n          serialNo={this.state.serialNo}\n          price={this.state.price}\n          priceType={this.state.priceType}\n          title={this.state.title}\n          description={this.state.description}\n          changeFileList={this.changeFileList}\n          changeData={this.changeData}\n          toStep={this.toStep}\n          submit={this.submit}\n          loading={this.state.loading}\n          getModels={this.getModels}\n          getBrands={this.getBrands}\n          addNewModel={this.addNewModel}\n          t={this.props.t}\n        ></CreatePostStep5>;\n      default:\n        return <CreatePostStep1\n          nextStep={this.nextStep}\n          newsType={this.state.newsType}\n          changeData={this.changeData}\n          updateUserPhoneNo={() => null}\n          t={this.props.t}\n        ></CreatePostStep1>;\n    }\n  }\n\n  nextStep = () => {\n    this.setState({\n      step: this.state.step !== 5 ? this.state.step + 1 : 5,\n    });\n  }\n\n  backStep = () => {\n    this.setState({\n      step: this.state.step === 1 ? 1 : this.state.step - 1,\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Head>\n          <title>{`Chỉnh sửa tin đăng | timmay.vn`}</title>\n          <meta property='fb:app_id' content={config.facebookAppId} />\n          <meta property='og:url' content={`timmay.vn`} />\n          <meta property='og:type' content='website' />\n          <meta property='og:title' content={`Chỉnh sửa tin đăng | timmay.vn`} />\n          <meta property='og:image:url' content={'/static/images/logo-timmay.png'} />\n          <meta property='og:image:width' content='800' />\n          <meta property='og:image:height' content='600' />\n        </Head>\n        <Header\n          commonKeywords={this.props.commonKeywords}\n          updateFilters={this.props.updateFilters}\n          searchKeyword={this.props.searchKeyword}\n          profileState={this.props.profileState}\n          profileReducers={this.props.profileReducers}\n        />\n\n        <div className='create-post create-post__container'>\n          {this.calculateScreen()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withNamespaces('create-news')(EditNewsScreen);\n"],"file":"EditNewsScreen.js"}