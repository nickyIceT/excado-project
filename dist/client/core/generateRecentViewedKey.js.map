{"version":3,"sources":["../../../src/client/core/generateRecentViewedKey.ts"],"names":["recentViewedCookie","generateRecentViewedKey","req","res","next","cookies","recentViewedKey","cookie","domain","config"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,IAAMA,kBAAkB,GAAG,eAA3B;;AACO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACC,GAAD,EAAWC,GAAX,EAAqBC,IAArB,EAAmC;AACxE,MAAI,CAACF,GAAG,CAACG,OAAJ,CAAYL,kBAAZ,CAAL,EAAsC;AACpC,QAAMM,eAAe,GAAG,eAAxB;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAWP,kBAAX,EAA+BM,eAA/B,EAAgD;AAACE,MAAAA,MAAM,EAAEC,eAAOJ,OAAP,CAAeG;AAAxB,KAAhD;AACD;;AACDJ,EAAAA,IAAI;AACL,CANM","sourcesContent":["import { v4 } from 'uuid';\nimport { config } from '@client/config';\n\nconst recentViewedCookie = 'recent_viewed';\nexport const generateRecentViewedKey = (req: any, res: any, next: any) => {\n  if (!req.cookies[recentViewedCookie]) {\n    const recentViewedKey = v4();\n    res.cookie(recentViewedCookie, recentViewedKey, {domain: config.cookies.domain});\n  }\n  next();\n};\n"],"file":"generateRecentViewedKey.js"}