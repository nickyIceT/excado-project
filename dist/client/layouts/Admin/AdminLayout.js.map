{"version":3,"sources":["../../../../src/client/layouts/Admin/AdminLayout.tsx"],"names":["BaseAdminLayout","openedSubMenu","props","selectedMenuItem","menuCollapsed","isChangingLanguage","setState","state","newOpenedSubMenu","newLang","translate","t","menuTheme","menuWidth","collapsedWidth","links","key","title","href","blankTarget","openSubMenuChange","minHeight","padding","toggle","changeLanguage","currentLanguage","width","height","marginRight","cursor","children","map","link","React","Component","AdminLayout"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\nimport { Layout, Icon, Dropdown, Menu, Spin } from 'antd';\nimport './AdminLayout.less';\nimport { SideBar } from './components/SideBar';\nimport { CollapsedButton } from './components/CollapsedButton';\nimport { HeaderDropdown } from './components/HeaderDropdown';\nimport { changeLanguage, withNamespaces } from '@client/i18n';\n\ninterface Props {\n  openedSubMenu: string;\n  selectedMenuItem: string;\n  currentLanguage: string;\n  t: (key: string) => string;\n}\ninterface State {\n  openedSubMenu: string;\n  selectedMenuItem: string;\n  menuCollapsed: boolean;\n  isChangingLanguage: boolean;\n}\nclass BaseAdminLayout extends React.Component<Props, State> {\n  state: State = {\n    openedSubMenu: this.props.openedSubMenu,\n    selectedMenuItem: this.props.selectedMenuItem,\n    menuCollapsed: false,\n    isChangingLanguage: false,\n  };\n\n  toggle = () => {\n    this.setState({\n      menuCollapsed: !this.state.menuCollapsed,\n    });\n  };\n\n  openSubMenuChange = (newOpenedSubMenu: string) => {\n    this.setState({\n      openedSubMenu: newOpenedSubMenu,\n    });\n  }\n\n  changeLanguage = (newLang: string) => {\n    this.setState({\n      isChangingLanguage: true,\n    });\n    changeLanguage(newLang);\n    this.setState({\n      isChangingLanguage: false,\n    });\n  }\n\n  render() {\n    const translate = this.props.t;\n    const menuTheme = 'light';\n    const menuWidth = 256;\n    const collapsedWidth = 80;\n    const links = [\n      {\n        key: 'Pro Antd',\n        title: 'Pro Antd',\n        href: 'https://pro.ant.design',\n        blankTarget: true,\n      },\n      {\n        key: 'github',\n        title: <Icon type='github' />,\n        href: 'https://github.com/ant-design/ant-design-pro',\n        blankTarget: true,\n      },\n      {\n        key: 'Ant Design',\n        title: 'Ant Design',\n        href: 'https://ant.design',\n        blankTarget: true,\n      },\n    ];\n\n    return (\n      <div className='admin-container'>\n        <Spin spinning={this.state.isChangingLanguage}>\n          <Layout>\n            <SideBar\n              menuWidth={menuWidth}\n              collapsedWidth={collapsedWidth}\n              menuTheme={menuTheme}\n              openedSubMenu={this.state.openedSubMenu}\n              selectedMenuItem={this.state.selectedMenuItem}\n              openSubMenuChange={this.openSubMenuChange}\n              menuCollapsed={this.state.menuCollapsed}\n            />\n\n            <Layout\n              style={{ minHeight: '100vh' }}>\n              <Layout.Header\n                style={{ padding: 0 }}>\n                <div className='header'>\n                  <CollapsedButton menuCollapsed={this.state.menuCollapsed} toggle={this.toggle} />\n\n                  <div className='right'>\n                    <Dropdown placement='bottomCenter' overlay={(\n                      <Menu onClick={({ key }) => this.changeLanguage(key)} selectedKeys={[this.props.currentLanguage]}>\n                        <Menu.Item key='en'>\n                          <img src='/static/images/en.png' style={{ width: '20px', height: '20px' }} /> &nbsp; {translate(`common:en`)}\n                        </Menu.Item>\n                        <Menu.Item key='vn'>\n                          <img src='/static/images/vn.png' style={{ width: '20px', height: '20px' }} /> &nbsp; {translate(`common:vn`)}\n                        </Menu.Item>\n                      </Menu>\n                    )}>\n                      <span className='ant-dropdown-link' style={{ marginRight: '10px', cursor: 'pointer' }}>\n                        <img src={`/static/images/${this.props.currentLanguage}.png`} style={{ width: '20px', height: '20px' }} /> &nbsp; {translate(`common:${this.props.currentLanguage}`)}\n                      </span>\n                    </Dropdown>\n\n                    <HeaderDropdown />\n                  </div>\n                </div>\n              </Layout.Header>\n\n              <Layout.Content\n                className='content'>\n                {this.props.children}\n              </Layout.Content>\n\n              <Layout.Footer\n                style={{ padding: 0 }}>\n                <footer className='footer'>\n                  <div className='links'>\n                    {links.map((link) => (\n                      <a\n                        key={link.key}\n                        title={link.key}\n                        target={link.blankTarget ? '_blank' : '_self'}\n                        href={link.href}\n                      >\n                        {link.title}\n                      </a>\n                    ))}\n                  </div>\n                  <div className='copyright'>\n                    <Fragment>\n                      Copyright <Icon type='copyright' /> 2018 - Techkids Software\n                    </Fragment>\n                  </div>\n                </footer>\n              </Layout.Footer>\n            </Layout>\n          </Layout>\n        </Spin>\n      </div>\n    );\n  }\n}\n\nexport const AdminLayout = withNamespaces('common')(BaseAdminLayout);\n"],"file":"AdminLayout.js"}