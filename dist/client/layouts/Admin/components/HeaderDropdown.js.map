{"version":3,"sources":["../../../../../src/client/layouts/Admin/components/HeaderDropdown.tsx"],"names":["logOut","firebase","auth","signOut","window","location","href","menu","DropdownMenu","props","avatarUrl","authUser","fullName","mapState","rootState","profileModel","mapDispatch","_rootReducer","HeaderDropdown","initStore"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB;;AACAC,eAASC,IAAT,GAAgBC,OAAhB;;AACAC,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,cAAvB;AACD,CAJD;;AAMA,IAAMC,IAAI,GACR;AAAM,EAAA,SAAS,EAAC,cAAhB;AAA+B,EAAA,YAAY,EAAE;AAA7C,GACE,2CAAM,IAAN;AAAW,EAAA,GAAG,EAAC;AAAf,GACE;AAAG,EAAA,IAAI,EAAC;AAAR,GACE;AAAM,EAAA,IAAI,EAAC;AAAX,EADF,WAC6B,0EAD7B,CADF,CADF,EAME,2CAAM,OAAN,OANF,EAOE,2CAAM,IAAN;AAAW,EAAA,GAAG,EAAC;AAAf,GACE;AAAG,EAAA,OAAO,EAAEP;AAAZ,GACE;AAAM,EAAA,IAAI,EAAC;AAAX,EADF,WAC+B,sEAD/B,CADF,CAPF,CADF;;AAmBA,IAAMQ,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAkB;AACrC,MAAMC,SAAS,GAAGD,KAAK,CAACE,QAAN,IAAkBF,KAAK,CAACE,QAAN,CAAeD,SAAjC,GAA6CD,KAAK,CAACE,QAAN,CAAeD,SAA5D,GAAwE,mCAA1F;AAEA,SACE;AAAU,IAAA,gBAAgB,EAAC,gBAA3B;AAA4C,IAAA,OAAO,EAAEH;AAArD,KACE;AAAM,IAAA,SAAS;AAAf,KACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAC,QAFZ;AAGE,IAAA,GAAG,EAAEG,SAHP;AAIE,IAAA,GAAG,EAAC;AAJN,IADF,EAOE;AAAM,IAAA,SAAS,EAAC;AAAhB,KAAwBD,KAAK,CAACE,QAAN,GAAiBF,KAAK,CAACE,QAAN,CAAeC,QAAhC,GAA2C,OAAnE,CAPF,CADF,CADF;AAaD,CAhBD;;AAkBA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,SAAD,EAAoB;AACnC,SAAO;AACLH,IAAAA,QAAQ,EAAEG,SAAS,CAACC,YAAV,CAAuBJ;AAD5B,GAAP;AAGD,CAJD;;AAMA,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAACC,YAAD,EAAuB;AACzC,SAAO,EAAP;AACD,CAFD;;AAIA,IAAMC,cAAc,GAAG,wBAAYC,gBAAZ,EAAuBN,QAAvB,EAAiCG,WAAjC,EAA8CR,YAA9C,CAAvB","sourcesContent":["import React from 'react';\nimport { Dropdown, Menu, Icon, Avatar } from 'antd';\nimport './HeaderDropdown.less';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { initializeFirebaseApp } from '@client/core';\nimport { AuthUser, initStore, withRematch } from '@client/store';\n\nconst logOut = () => {\n  initializeFirebaseApp();\n  firebase.auth().signOut();\n  window.location.href = '/auth/logout';\n};\n\nconst menu = (\n  <Menu className='dropdownMenu' selectedKeys={[]}>\n    <Menu.Item key='homePage'>\n      <a href='/'>\n        <Icon type='home' />&nbsp; <span>Quay lại trang chủ</span>\n      </a>\n    </Menu.Item>\n    <Menu.Divider />\n    <Menu.Item key='logout'>\n      <a onClick={logOut}>\n        <Icon type='logout' />&nbsp; <span>Đăng xuất</span>\n      </a>\n    </Menu.Item>\n  </Menu>\n);\n\ninterface Props {\n  authUser: AuthUser;\n}\nconst DropdownMenu = (props: Props) => {\n  const avatarUrl = props.authUser && props.authUser.avatarUrl ? props.authUser.avatarUrl : '/static/images/default-avatar.jpg';\n\n  return (\n    <Dropdown overlayClassName='headerDropdown' overlay={menu}>\n      <span className={`action account`}>\n        <Avatar\n          size='small'\n          className='avatar'\n          src={avatarUrl}\n          alt='avatar'\n        />\n        <span className='name'>{props.authUser ? props.authUser.fullName : 'Admin'}</span>\n      </span>\n    </Dropdown>\n  );\n};\n\nconst mapState = (rootState: any) => {\n  return {\n    authUser: rootState.profileModel.authUser,\n  };\n};\n\nconst mapDispatch = (_rootReducer: any) => {\n  return {};\n};\n\nconst HeaderDropdown = withRematch(initStore, mapState, mapDispatch)(DropdownMenu);\n\nexport {\n  HeaderDropdown,\n};\n"],"file":"HeaderDropdown.js"}