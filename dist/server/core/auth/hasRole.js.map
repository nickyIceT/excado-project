{"version":3,"sources":["../../../../src/server/core/auth/hasRole.ts"],"names":["hasRole","authUser","roleId","NotAuthenticatedError","roles","indexOf"],"mappings":";;;;;;;AAAA;;AAGO,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAACC,QAAD,EAAiCC,MAAjC,EAAoD;AACzE,MAAI,CAACA,MAAL,EAAa;AACX,WAAO,IAAP;AACD,GAFD,MAEO;AACL,QAAI,CAACD,QAAL,EAAe;AACb,YAAM,IAAIE,wBAAJ,EAAN;AACD;;AACD,WAAOF,QAAQ,CAACG,KAAT,IAAkBH,QAAQ,CAACG,KAAT,CAAeC,OAAf,CAAuBH,MAAvB,MAAmC,CAAC,CAA7D;AACD;AACF,CATM","sourcesContent":["import { AuthUser, NotAuthenticatedError } from '@app/core';\nimport _ from 'lodash';\n\nexport const hasRole = (authUser: AuthUser | undefined, roleId: string) => {\n  if (!roleId) {\n    return true;\n  } else {\n    if (!authUser) {\n      throw new NotAuthenticatedError();\n    }\n    return authUser.roles && authUser.roles.indexOf(roleId) !== -1;\n  }\n};\n"],"file":"hasRole.js"}