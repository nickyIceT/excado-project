{"version":3,"sources":["../../../../src/server/core/hooks/logApiRequest.hook.ts"],"names":["logApiRequest","context","logger","info","timestamp","format","user","params","authUser","id","service","path","method","data","query"],"mappings":";;;;;;;;;AACA;;AACA;;;;;;;;AAEO,IAAMA,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAG,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAC3BC,qBAAOC,IAAP,CAAY;AACVC,cAAAA,SAAS,EAAE,uBAASC,MAAT,CAAgB,mBAAhB,CADD;AAEVC,cAAAA,IAAI,EAAEL,OAAO,CAACM,MAAR,CAAeC,QAAf,GAA0BP,OAAO,CAACM,MAAR,CAAeC,QAAf,CAAwBC,EAAlD,GAAuD,EAFnD;AAGVC,cAAAA,OAAO,EAAET,OAAO,CAACU,IAHP;AAIVC,cAAAA,MAAM,EAAEX,OAAO,CAACW,MAJN;AAKVH,cAAAA,EAAE,EAAER,OAAO,CAACQ,EALF;AAMVI,cAAAA,IAAI,EAAEZ,OAAO,CAACY,IANJ;AAOVC,cAAAA,KAAK,EAAEb,OAAO,CAACM,MAAR,CAAeO;AAPZ,aAAZ;;AAD2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbd,aAAa;AAAA;AAAA;AAAA,GAAnB","sourcesContent":["import { HookContext } from '@feathersjs/feathers';\nimport { logger } from '@app/core';\nimport moment from 'moment';\n\nexport const logApiRequest = async (context: HookContext) => {\n  logger.info({\n    timestamp: moment().format('DD/MM/YYYY  HH:mm'),\n    user: context.params.authUser ? context.params.authUser.id : '',\n    service: context.path,\n    method: context.method,\n    id: context.id,\n    data: context.data,\n    query: context.params.query,\n  });\n};\n"],"file":"logApiRequest.hook.js"}