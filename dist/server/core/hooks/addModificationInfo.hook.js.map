{"version":3,"sources":["../../../../src/server/core/hooks/addModificationInfo.hook.ts"],"names":["addModificationInfo","context","params","modificationInfo","lastModifiedBy","authUser","id","lastModifiedAt"],"mappings":";;;;;;;;;AACA;;;;;;;;AAGO,IAAMA,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAG,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AACjCA,YAAAA,OAAO,CAACC,MAAR,CAAeC,gBAAf,GAAkC;AAChCC,cAAAA,cAAc,EAAEH,OAAO,CAACC,MAAR,CAAeG,QAAf,GAA0BJ,OAAO,CAACC,MAAR,CAAeG,QAAf,CAAwBC,EAAlD,GAAuD,EADvC;AAEhCC,cAAAA,cAAc,EAAE;AAFgB,aAAlC;;AADiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAnBP,mBAAmB;AAAA;AAAA;AAAA,GAAzB","sourcesContent":["import _ from 'lodash';\nimport { getCurrentTimestampInMilliseconds } from '@app/core';\nimport { HookContext } from '@feathersjs/feathers';\n\nexport const addModificationInfo = async (context: HookContext) => {\n  context.params.modificationInfo = {\n    lastModifiedBy: context.params.authUser ? context.params.authUser.id : '',\n    lastModifiedAt: getCurrentTimestampInMilliseconds(),\n  };\n};\n"],"file":"addModificationInfo.hook.js"}