{"version":3,"sources":["../../../../../../src/server/modules/auth/aggregates/auth/auth.hook.ts"],"names":["authHook","before","all","logApiRequest","context","params","repository","userRepository","create","roleRepository"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;;;AAGA,IAAMA,QAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,CACHC,mBADG;AAAA;AAAA;AAAA;AAAA;AAAA,gCAEH,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AACEA,gBAAAA,OAAO,CAACC,MAAR,CAAeC,UAAf,GAA4BC,gBAA5B;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFG;;AAAA;AAAA;AAAA;AAAA,QADC;AAONC,IAAAA,MAAM,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,gCACN;AAAA;AAAA;AAAA;AAAA;AAAA;AAASH,gBAAAA,MAAT,SAASA,MAAT;AACEA,gBAAAA,MAAM,CAACI,cAAP,GAAwBA,gBAAxB;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADM;;AAAA;AAAA;AAAA;AAAA;AAPF;AADa,CAAvB;eAgBeT,Q","sourcesContent":["import { Hook, logApiRequest } from '@app/core';\nimport { userRepository, roleRepository } from '@app/auth';\nimport { HookContext } from '@feathersjs/feathers';\n\nconst authHook: Hook = {\n  before: {\n    all: [\n      logApiRequest,\n      async (context: any) => {\n        context.params.repository = userRepository;\n      },\n    ],\n    create: [\n      async ({ params }: HookContext) => {\n        params.roleRepository = roleRepository;\n      },\n    ],\n  },\n};\n\nexport default authHook;\n"],"file":"auth.hook.js"}