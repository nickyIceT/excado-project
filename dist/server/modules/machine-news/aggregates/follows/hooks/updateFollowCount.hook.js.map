{"version":3,"sources":["../../../../../../../src/server/modules/machine-news/aggregates/follows/hooks/updateFollowCount.hook.ts"],"names":["updateFollowCount","context","data","operation","app","service","config","web","api","prefix","payload","newsId","userId","shopId"],"mappings":";;;;;;;;;AAAA;;;;;;;;AAEO,IAAMA,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAG,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BACvBA,OAAO,CAACC,IAAR,CAAaC,SADU;AAAA,4CAExB,YAFwB,uBAKxB,cALwB,uBAQxB,YARwB,uBAWxB,cAXwB,uBAcxB,YAdwB,wBAiBxB,cAjBwB;AAAA;;AAAA;AAG3BF,YAAAA,OAAO,CAACG,GAAR,CAAYC,OAAZ,WAAuBC,eAAOC,GAAP,CAAWC,GAAX,CAAeC,MAAtC,YAAqDT,iBAArD,CAAuEC,OAAO,CAACC,IAAR,CAAaQ,OAAb,CAAqBC,MAA5F,EAAoG,QAApG;AAH2B;;AAAA;AAM3BV,YAAAA,OAAO,CAACG,GAAR,CAAYC,OAAZ,WAAuBC,eAAOC,GAAP,CAAWC,GAAX,CAAeC,MAAtC,YAAqDT,iBAArD,CAAuEC,OAAO,CAACC,IAAR,CAAaQ,OAAb,CAAqBC,MAA5F,EAAoG,UAApG;AAN2B;;AAAA;AAS3BV,YAAAA,OAAO,CAACG,GAAR,CAAYC,OAAZ,WAAuBC,eAAOC,GAAP,CAAWC,GAAX,CAAeC,MAAtC,aAAsDT,iBAAtD,CAAwEC,OAAO,CAACC,IAAR,CAAaQ,OAAb,CAAqBE,MAA7F,EAAqG,QAArG;AAT2B;;AAAA;AAY3BX,YAAAA,OAAO,CAACG,GAAR,CAAYC,OAAZ,WAAuBC,eAAOC,GAAP,CAAWC,GAAX,CAAeC,MAAtC,aAAsDT,iBAAtD,CAAwEC,OAAO,CAACC,IAAR,CAAaQ,OAAb,CAAqBE,MAA7F,EAAqG,UAArG;AAZ2B;;AAAA;AAe3BX,YAAAA,OAAO,CAACG,GAAR,CAAYC,OAAZ,WAAuBC,eAAOC,GAAP,CAAWC,GAAX,CAAeC,MAAtC,YAAqDT,iBAArD,CAAuEC,OAAO,CAACC,IAAR,CAAaQ,OAAb,CAAqBG,MAA5F,EAAoG,QAApG;AAf2B;;AAAA;AAkB3BZ,YAAAA,OAAO,CAACG,GAAR,CAAYC,OAAZ,WAAuBC,eAAOC,GAAP,CAAWC,GAAX,CAAeC,MAAtC,YAAqDT,iBAArD,CAAuEC,OAAO,CAACC,IAAR,CAAaQ,OAAb,CAAqBG,MAA5F,EAAoG,UAApG;AAlB2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAjBb,iBAAiB;AAAA;AAAA;AAAA,GAAvB","sourcesContent":["import { config } from '@app/config';\n\nexport const updateFollowCount = async (context: any) => {\n  switch (context.data.operation) {\n    case 'followNews':\n      context.app.service(`${config.web.api.prefix}/news`).updateFollowCount(context.data.payload.newsId, 'follow');\n      break;\n    case 'unfollowNews':\n      context.app.service(`${config.web.api.prefix}/news`).updateFollowCount(context.data.payload.newsId, 'unfollow');\n      break;\n    case 'followUser':\n      context.app.service(`${config.web.api.prefix}/users`).updateFollowCount(context.data.payload.userId, 'follow');\n      break;\n    case 'unfollowUser':\n      context.app.service(`${config.web.api.prefix}/users`).updateFollowCount(context.data.payload.userId, 'unfollow');\n      break;\n    case 'followShop':\n      context.app.service(`${config.web.api.prefix}/shop`).updateFollowCount(context.data.payload.shopId, 'follow');\n      break;\n    case 'unfollowShop':\n      context.app.service(`${config.web.api.prefix}/shop`).updateFollowCount(context.data.payload.shopId, 'unfollow');\n      break;\n  }\n};\n"],"file":"updateFollowCount.hook.js"}