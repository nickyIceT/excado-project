{"version":3,"sources":["../../../../../../src/server/modules/machine-news/aggregates/categories/categories.hook.ts"],"names":["categoryHook","before","all","logApiRequest","context","params","repository","categoryRepository","find","readFromCache","create","addCreationInfo","update","addModificationInfo","patch","remove","after","writeToCache","invalidCategoryCache","invalidCategoryDetailCache"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;AAEA,IAAMA,YAAkB,GAAG;AACzBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,CACHC,mBADG;AAAA;AAAA;AAAA;AAAA;AAAA,gCAEH,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AACEA,gBAAAA,OAAO,CAACC,MAAR,CAAeC,UAAf,GAA4BC,8BAA5B;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFG;;AAAA;AAAA;AAAA;AAAA,QADC;AAONC,IAAAA,IAAI,EAAE,CACJC,mBADI,CAPA;AAUNC,IAAAA,MAAM,EAAE,CACNC,qBADM,CAVF;AAaNC,IAAAA,MAAM,EAAE,CACNC,yBADM,CAbF;AAgBNC,IAAAA,KAAK,EAAE,CACLD,yBADK,CAhBD;AAmBNE,IAAAA,MAAM,EAAE;AAnBF,GADiB;AAuBzBC,EAAAA,KAAK,EAAE;AACLR,IAAAA,IAAI,EAAE,CACJS,kBADI,CADD;AAILP,IAAAA,MAAM,EAAE,CACNQ,kCADM,CAJH;AAOLJ,IAAAA,KAAK,EAAE,CACLI,kCADK,EAELC,sDAFK;AAPF;AAvBkB,CAA3B;eAqCenB,Y","sourcesContent":["import { Hook, addCreationInfo, addModificationInfo, writeToCache, logApiRequest, readFromCache } from '@app/core';\nimport { categoryRepository } from './categories.repository';\nimport { invalidCategoryCache } from './hooks/invalidCache.hook';\nimport { invalidCategoryDetailCache } from './hooks/invalidCategoryDetailCache.hook';\n\nconst categoryHook: Hook = {\n  before: {\n    all: [\n      logApiRequest,\n      async (context: any) => {\n        context.params.repository = categoryRepository;\n      },\n    ],\n    find: [\n      readFromCache,\n    ],\n    create: [\n      addCreationInfo,\n    ],\n    update: [\n      addModificationInfo,\n    ],\n    patch: [\n      addModificationInfo,\n    ],\n    remove: [\n    ],\n  },\n  after: {\n    find: [\n      writeToCache,\n    ],\n    create: [\n      invalidCategoryCache,\n    ],\n    patch: [\n      invalidCategoryCache,\n      invalidCategoryDetailCache,\n    ],\n  },\n};\n\nexport default categoryHook;\n"],"file":"categories.hook.js"}