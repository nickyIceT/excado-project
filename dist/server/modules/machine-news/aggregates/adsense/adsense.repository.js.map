{"version":3,"sources":["../../../../../../src/server/modules/machine-news/aggregates/adsense/adsense.repository.ts"],"names":["AdsenseSchema","mongoose","Schema","position","Number","imageUrl","String","hyperlink","AdsenseModel","model","adsenseRepository","findAll","NotImplementedError","find","query","filters","sortBy","first","before","after","findById","id","exec","findOne","count","create","payload","newAdsense","save","update","findByIdAndUpdate","$set","del","ensureIndexes"],"mappings":"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","sourcesContent":["import mongoose from 'mongoose';\nimport { addAuditableSchema, NotImplementedError, execCursorPaging } from '@app/core';\nimport { AdsenseRepository } from '@app/machine-news';\n\nconst AdsenseSchema = new mongoose.Schema(addAuditableSchema({\n  position: Number,\n  imageUrl: String,\n  hyperlink: String,\n}));\nconst AdsenseModel = mongoose.model('Adsense', AdsenseSchema);\n\nexport const adsenseRepository: AdsenseRepository = {\n  findAll: async () => {\n    throw new NotImplementedError();\n  },\n  find: async (query) => {\n    const filters: any = [];\n\n    return await execCursorPaging(\n      AdsenseModel,\n      filters,\n      query.sortBy,\n      Number(query.first),\n      [],\n      query.before,\n      query.after,\n    );\n  },\n  findById: async (id) => {\n    return await AdsenseModel.findById(id).exec() as any;\n  },\n  findOne: async () => {\n    throw new NotImplementedError();\n  },\n  count: async () => {\n    throw new NotImplementedError();\n  },\n  create: async (payload) => {\n    const newAdsense = new AdsenseModel(payload);\n    await newAdsense.save();\n    return newAdsense.id;\n  },\n  update: async (payload) => {\n    return await AdsenseModel.findByIdAndUpdate(payload.id, {$set: payload}).exec() as any;\n  },\n  del: async () => {\n    throw new NotImplementedError();\n  },\n  ensureIndexes: async () => {\n    throw new NotImplementedError();\n  },\n};\n"],"file":"adsense.repository.js"}