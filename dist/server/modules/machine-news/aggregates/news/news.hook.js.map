{"version":3,"sources":["../../../../../../src/server/modules/machine-news/aggregates/news/news.hook.ts"],"names":["newsHook","before","all","authenticate","logApiRequest","find","create","addCreationInfo","update","addModificationInfo","patch","addOldNews","remove","after","get","checkFollowNews","increaseNewsCount","createNotification","invalidCategoryCache","invalidProvinceCache","invalidAllBrandsCache","invalidTopBrandsCache","invalidCategoryDetailCache","invalidBrandDetailCache","updateNewsCount"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,QAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,CACHC,kBADG,EAEHC,mBAFG,CADC;AAKNC,IAAAA,IAAI,EAAE,EALA;AAONC,IAAAA,MAAM,EAAE,CACNH,kBADM,EAENI,qBAFM,CAPF;AAWNC,IAAAA,MAAM,EAAE,CACNL,kBADM,EAENM,yBAFM,CAXF;AAeNC,IAAAA,KAAK,EAAE,CACLP,kBADK,EAELM,yBAFK,EAGLE,sBAHK,CAfD;AAoBNC,IAAAA,MAAM,EAAE;AApBF,GADa;AAwBrBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,GAAG,EAAE,CACHC,gCADG,CADA;AAILT,IAAAA,MAAM,EAAE,CACNU,oCADM,EAENC,sCAFM,EAGNC,kCAHM,EAINC,mCAJM,EAKNC,4CALM,EAMNC,4CANM,EAONC,sDAPM,EAQNC,gDARM,CAJH;AAcLb,IAAAA,KAAK,EAAE,CACLc,gCADK,EAELN,kCAFK,EAGLC,mCAHK,EAILC,4CAJK,EAKLC,4CALK,EAMLC,sDANK,EAOLC,gDAPK;AAdF;AAxBc,CAAvB;eAkDevB,Q","sourcesContent":["import { Hook, addCreationInfo, addModificationInfo, authenticate, logApiRequest } from '@app/core';\nimport { createNotification } from './hooks/createNotification.hook';\nimport { addOldNews } from './hooks/addOldNews.hook';\nimport { increaseNewsCount } from './hooks/increaseNewsCount.hook';\nimport { updateNewsCount } from './hooks/updateNewsCount.hook';\nimport { invalidCategoryCache } from '../categories/hooks/invalidCache.hook';\nimport { invalidBrandDetailCache } from './hooks/invalidBrandDetailCache.hook';\nimport { invalidCategoryDetailCache } from './hooks/invalidCategoryDetailCache.hook';\nimport { invalidProvinceCache } from '../provinces/hooks/invalidCache.hook';\nimport { invalidAllBrandsCache } from '../brands/hooks/invalidAllBrandsCache.hook';\nimport { invalidTopBrandsCache } from '../brands/hooks/invalidTopBrandsCache.hook';\nimport { checkFollowNews } from './hooks/checkFollowNews.hook';\n\nconst newsHook: Hook = {\n  before: {\n    all: [\n      authenticate,\n      logApiRequest,\n    ],\n    find: [\n    ],\n    create: [\n      authenticate,\n      addCreationInfo,\n    ],\n    update: [\n      authenticate,\n      addModificationInfo,\n    ],\n    patch: [\n      authenticate,\n      addModificationInfo,\n      addOldNews,\n    ],\n    remove: [\n    ],\n  },\n  after: {\n    get: [\n      checkFollowNews,\n    ],\n    create: [\n      increaseNewsCount,\n      createNotification,\n      invalidCategoryCache,\n      invalidProvinceCache,\n      invalidAllBrandsCache,\n      invalidTopBrandsCache,\n      invalidCategoryDetailCache,\n      invalidBrandDetailCache,\n    ],\n    patch: [\n      updateNewsCount,\n      invalidCategoryCache,\n      invalidProvinceCache,\n      invalidAllBrandsCache,\n      invalidTopBrandsCache,\n      invalidCategoryDetailCache,\n      invalidBrandDetailCache,\n    ],\n  },\n};\n\nexport default newsHook;\n"],"file":"news.hook.js"}