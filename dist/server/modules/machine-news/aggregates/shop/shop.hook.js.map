{"version":3,"sources":["../../../../../../src/server/modules/machine-news/aggregates/shop/shop.hook.ts"],"names":["shopHook","before","all","authenticate","logApiRequest","context","params","repository","shopRepository","create","addCreationInfo","userRepository","update","addModificationInfo","patch"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;;;;;;;AAEA,IAAMA,QAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,CACHC,kBADG,EAEHC,mBAFG;AAAA;AAAA;AAAA;AAAA;AAAA,gCAGH,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AACEA,gBAAAA,OAAO,CAACC,MAAR,CAAeC,UAAf,GAA4BC,oBAA5B;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAHG;;AAAA;AAAA;AAAA;AAAA,QADC;AAQNC,IAAAA,MAAM,EAAE,CACNC,qBADM;AAAA;AAAA;AAAA;AAAA;AAAA,gCAEN,kBAAOL,OAAP;AAAA;AAAA;AAAA;AAAA;AACEA,gBAAAA,OAAO,CAACC,MAAR,CAAeK,cAAf,GAAgCA,oBAAhC;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFM;;AAAA;AAAA;AAAA;AAAA,QARF;AAcNC,IAAAA,MAAM,EAAE,CACNC,yBADM,CAdF;AAiBNC,IAAAA,KAAK,EAAE,CACLD,yBADK;AAjBD;AADa,CAAvB;eAwBeb,Q","sourcesContent":["import { Hook, addCreationInfo, addModificationInfo, logApiRequest, authenticate } from '@app/core';\nimport { HookContext } from '@feathersjs/feathers';\nimport { shopRepository } from './shop.repository';\nimport { userRepository } from '@app/auth';\n\nconst shopHook: Hook = {\n  before: {\n    all: [\n      authenticate,\n      logApiRequest,\n      async (context: HookContext) => {\n        context.params.repository = shopRepository;\n      },\n    ],\n    create: [\n      addCreationInfo,\n      async (context: HookContext) => {\n        context.params.userRepository = userRepository;\n      },\n    ],\n    update: [\n      addModificationInfo,\n    ],\n    patch: [\n      addModificationInfo,\n    ],\n  },\n};\n\nexport default shopHook;\n"],"file":"shop.hook.js"}