{"version":3,"sources":["../../../../../../src/server/modules/machine-news/aggregates/reports/reports.hook.ts"],"names":["reportsHook","before","all","logApiRequest","context","params","repository","reportsRepository","find","authenticate","get","create","addCreationInfo","newsRepository","patch","addModificationInfo"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,WAAiB,GAAG;AACxBC,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,CACHC,mBADG;AAAA;AAAA;AAAA;AAAA;AAAA,gCAEH,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AACEA,gBAAAA,OAAO,CAACC,MAAR,CAAeC,UAAf,GAA4BC,mBAA5B;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFG;;AAAA;AAAA;AAAA;AAAA,QADC;AAONC,IAAAA,IAAI,EAAE,CACJC,kBADI,CAPA;AAUNC,IAAAA,GAAG,EAAE,CACHD,kBADG,CAVC;AAaNE,IAAAA,MAAM,EAAE,CACNC,qBADM;AAAA;AAAA;AAAA;AAAA;AAAA,gCAEN,kBAAOR,OAAP;AAAA;AAAA;AAAA;AAAA;AACEA,gBAAAA,OAAO,CAACC,MAAR,CAAeQ,cAAf,GAAgCA,gBAAhC;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFM;;AAAA;AAAA;AAAA;AAAA,QAbF;AAmBNC,IAAAA,KAAK,EAAE,CACLL,kBADK,EAELM,yBAFK;AAAA;AAAA;AAAA;AAAA;AAAA,gCAGL,kBAAOX,OAAP;AAAA;AAAA;AAAA;AAAA;AACEA,gBAAAA,OAAO,CAACC,MAAR,CAAeQ,cAAf,GAAgCA,gBAAhC;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAHK;;AAAA;AAAA;AAAA;AAAA;AAnBD;AADgB,CAA1B;eA8Beb,W","sourcesContent":["import { Hook, logApiRequest, addCreationInfo, addModificationInfo, authenticate } from '@app/core';\nimport { reportsRepository, newsRepository } from '@app/machine-news';\n\nconst reportsHook: Hook = {\n  before: {\n    all: [\n      logApiRequest,\n      async (context: any) => {\n        context.params.repository = reportsRepository;\n      },\n    ],\n    find: [\n      authenticate,\n    ],\n    get: [\n      authenticate,\n    ],\n    create: [\n      addCreationInfo,\n      async (context: any) => {\n        context.params.newsRepository = newsRepository;\n      },\n    ],\n    patch: [\n      authenticate,\n      addModificationInfo,\n      async (context: any) => {\n        context.params.newsRepository = newsRepository;\n      },\n    ],\n  },\n};\n\nexport default reportsHook;\n"],"file":"reports.hook.js"}