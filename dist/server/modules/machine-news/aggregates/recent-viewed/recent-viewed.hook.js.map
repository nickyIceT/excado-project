{"version":3,"sources":["../../../../../../src/server/modules/machine-news/aggregates/recent-viewed/recent-viewed.hook.ts"],"names":["recentViewedHook","before","all","authenticate","logApiRequest","context","params","repository","recentViewedRepository","newsRepository","after","find","checkFollowRecentViewed"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;AAEA,IAAMA,gBAAsB,GAAG;AAC7BC,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,CACHC,kBADG,EAEHC,mBAFG;AAAA;AAAA;AAAA;AAAA;AAAA,gCAGH,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AACEA,gBAAAA,OAAO,CAACC,MAAR,CAAeC,UAAf,GAA4BC,oCAA5B;AACAH,gBAAAA,OAAO,CAACC,MAAR,CAAeG,cAAf,GAAgCA,oBAAhC;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAHG;;AAAA;AAAA;AAAA;AAAA;AADC,GADqB;AAW7BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,CACJC,yBADI;AADD;AAXsB,CAA/B;eAkBeZ,gB","sourcesContent":["import { Hook, authenticate, logApiRequest } from '@app/core';\nimport { recentViewedRepository } from './recent-viewed.repository';\nimport { newsRepository } from '../news/news.repository';\nimport { checkFollowRecentViewed } from '@app/machine-news';\n\nconst recentViewedHook: Hook = {\n  before: {\n    all: [\n      authenticate,\n      logApiRequest,\n      async (context: any) => {\n        context.params.repository = recentViewedRepository;\n        context.params.newsRepository = newsRepository;\n      },\n    ],\n  },\n  after: {\n    find: [\n      checkFollowRecentViewed,\n    ],\n  },\n};\n\nexport default recentViewedHook;\n"],"file":"recent-viewed.hook.js"}