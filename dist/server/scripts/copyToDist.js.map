{"version":3,"sources":["../../../src/server/scripts/copyToDist.ts"],"names":["copyToDist","copyPromises","moduleNames","excludedModules","module","indexOf","push","Promise","all","console","log","then","process","exit"],"mappings":";;;;AAAA;;;;;;;;AAEA;AACA,IAAMA,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AACXC,YAAAA,YADW,GACI,CACnB,mBAAK,kBAAL,EAAyB,oBAAzB,CADmB,EAEnB,mBAAK,mBAAL,EAA0B,qBAA1B,CAFmB,EAGnB,mBAAK,mBAAL,EAA0B,qBAA1B,CAHmB,EAInB,mBAAK,yBAAL,EAAgC,0BAAhC,CAJmB,CADJ;AAAA;AAAA,mBAQS,2CART;;AAAA;AAQXC,YAAAA,WARW;AASXC,YAAAA,eATW,GASiB,CAAC,SAAD,EAAY,WAAZ,CATjB;AAAA;AAAA;AAAA;AAAA;AAAA,wBAUID,WAVJ;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUNE,YAAAA,MAVM;;AAAA,kBAWXD,eAAe,CAACE,OAAhB,CAAwBD,MAAxB,MAAoC,CAAC,CAX1B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAcfH,YAAAA,YAAY,CAACK,IAAb,CAAkB,gDAA2BF,MAA3B,cAAqCA,MAArC,kDAAmFA,MAAnF,cAA6FA,MAA7F,mBAAlB;;AAde;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,mBAkBTG,OAAO,CAACC,GAAR,CAAYP,YAAZ,CAlBS;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAoBfQ,YAAAA,OAAO,CAACC,GAAR;;AApBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVV,UAAU;AAAA;AAAA;AAAA,GAAhB;;AAwBAA,UAAU,GAAGW,IAAb,CAAkB,YAAM;AACtBF,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAE,EAAAA,OAAO,CAACC,IAAR;AACD,CAHD","sourcesContent":["import { copy, readdir } from 'fs-extra';\n\n// tslint:disable:no-console\nconst copyToDist = async () => {\n  const copyPromises = [\n    copy('src/client/.next', 'dist/client/.next/'),\n    copy('src/client/static', 'dist/client/static/'),\n    copy('src/server/config', 'dist/server/config/'),\n    copy('src/server/swagger.yaml', 'dist/server/swagger.yaml'),\n  ];\n\n  const moduleNames = await readdir(`src/server/modules`);\n  const excludedModules: string[] = ['website', '.DS_Store'];\n  for (const module of moduleNames) {\n    if (excludedModules.indexOf(module) !== -1) {\n      continue;\n    }\n    copyPromises.push(copy(`src/server/modules/${module}/${module}.swagger.yaml`, `dist/server/modules/${module}/${module}.swagger.yaml`));\n  }\n\n  try {\n    await Promise.all(copyPromises);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\ncopyToDist().then(() => {\n  console.log('Copy files success');\n  process.exit();\n});\n"],"file":"copyToDist.js"}